<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.72.0" />
    <meta name="description" content="Learn about the domain life cycle of an OAM domain.">


    <link rel="icon" href="/fmw-kubernetes/22.3.1/images/favicon.png" type="image/png">

    <title>a. Domain Life Cycle :: Oracle Fusion Middleware on Kubernetes</title>

    
    <link href="/fmw-kubernetes/22.3.1/css/nucleus.css?1658484928" rel="stylesheet">
    <link href="/fmw-kubernetes/22.3.1/css/fontawesome-all.min.css?1658484928" rel="stylesheet">
    <link href="/fmw-kubernetes/22.3.1/css/hybrid.css?1658484928" rel="stylesheet">
    <link href="/fmw-kubernetes/22.3.1/css/featherlight.min.css?1658484928" rel="stylesheet">
    <link href="/fmw-kubernetes/22.3.1/css/perfect-scrollbar.min.css?1658484928" rel="stylesheet">
    <link href="/fmw-kubernetes/22.3.1/css/auto-complete.css?1658484928" rel="stylesheet">
    <link href="/fmw-kubernetes/22.3.1/css/atom-one-dark-reasonable.css?1658484928" rel="stylesheet">
    <link href="/fmw-kubernetes/22.3.1/css/theme.css?1658484928" rel="stylesheet">
    <link href="/fmw-kubernetes/22.3.1/css/hugo-theme.css?1658484928" rel="stylesheet">
    

    <script src="/fmw-kubernetes/22.3.1/js/jquery-3.6.0.min.js?1658484928"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/domain-lifecycle/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/fmw-kubernetes/22.3.1">
  <img src="/fmw-kubernetes/22.3.1/images/fmw_12c_12_2_1_4_0-logo.png" height="100"><br/>
  <b>Oracle Fusion Middleware on Kubernetes </b>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/fmw-kubernetes/22.3.1/js/lunr.min.js?1658484928"></script>
<script type="text/javascript" src="/fmw-kubernetes/22.3.1/js/auto-complete.js?1658484928"></script>
<script type="text/javascript">
    
        var baseurl = "\/fmw-kubernetes\/22.3.1";
    
</script>
<script type="text/javascript" src="/fmw-kubernetes/22.3.1/js/search.js?1658484928"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">
        <li><a  class="" href="/fmw-kubernetes/">Home</a></li>
        
          
          


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oam/" title="Oracle Access Management" class="dd-item 
        parent
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oam/">
          Oracle Access Management
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oam/release-notes/" title="Release Notes" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oam/release-notes/">
        <b>1. </b>Release Notes
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oam/prerequisites/" title="Prerequisites" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oam/prerequisites/">
          <b>2. </b>Prerequisites
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oam/prepare-your-environment/" title="Prepare your environment" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oam/prepare-your-environment/">
          <b>3. </b>Prepare your environment
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oam/create-oam-domains/" title="Create OAM domains" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oam/create-oam-domains/">
          <b>4. </b>Create OAM domains
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oam/configure-ingress/" title="Configure an Ingress for an OAM domain" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oam/configure-ingress/">
          <b>5. </b>Configure an Ingress for an OAM domain
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oam/validate-domain-urls/" title="Validate Domain URLs" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oam/validate-domain-urls/">
          <b>6. </b>Validate Domain URLs
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oam/post-install-config/" title="Post Install Configuration" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oam/post-install-config/">
          <b>7. </b>Post Install Configuration
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oam/validate-sso-using-webgate/" title="Validate a Basic SSO Flow using WebGate Registration " class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oam/validate-sso-using-webgate/">
          <b>8. </b>Validate a Basic SSO Flow using WebGate Registration 
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/" title="Manage OAM Domains" class="dd-item 
        parent
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/">
          <b>9. </b>Manage OAM Domains
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/domain-lifecycle/" title="a. Domain Life Cycle" class="dd-item active">
        <a href="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/domain-lifecycle/">
        a. Domain Life Cycle
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/wlst-admin-operations/" title="b. WLST Administration Operations" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/wlst-admin-operations/">
        b. WLST Administration Operations
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/logging-and-visualization/" title="c. Logging and Visualization" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/logging-and-visualization/">
        c. Logging and Visualization
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/monitoring-oam-domains/" title="d. Monitoring an OAM domain" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/monitoring-oam-domains/">
        d. Monitoring an OAM domain
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/delete-domain-home/" title="e. Delete the OAM domain home" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/delete-domain-home/">
        e. Delete the OAM domain home
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oam/create-or-update-image/" title="Create or update an image" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oam/create-or-update-image/">
          <b>10. </b>Create or update an image
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oam/patch-and-upgrade/" title="Patch and Upgrade" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oam/patch-and-upgrade/">
          <b>11. </b>Patch and Upgrade
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oam/patch-and-upgrade/patch_an_image/" title="a. Patch an image" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oam/patch-and-upgrade/patch_an_image/">
        a. Patch an image
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oam/patch-and-upgrade/upgrade_an_operator_release/" title="b. Upgrade an operator release" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oam/patch-and-upgrade/upgrade_an_operator_release/">
        b. Upgrade an operator release
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oam/troubleshooting/" title="Troubleshooting" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oam/troubleshooting/">
          <b>12. </b>Troubleshooting
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oig/" title="Oracle Identity Governance" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oig/">
          Oracle Identity Governance
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/release-notes/" title="Release Notes" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/release-notes/">
        <b>1. </b>Release Notes
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oig/prerequisites/" title="Prerequisites" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oig/prerequisites/">
          <b>2. </b>Prerequisites
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oig/prepare-your-environment/" title="Prepare your environment" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oig/prepare-your-environment/">
          <b>3. </b>Prepare your environment
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oig/create-oig-domains/" title="Create OIG domains" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oig/create-oig-domains/">
          <b>4. </b>Create OIG domains
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oig/configure-ingress/" title="Configure an ingress for an OIG domain" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oig/configure-ingress/">
          <b>5. </b>Configure an ingress for an OIG domain
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/configure-ingress/ingress-nginx-setup-for-oig-domain-setup-on-k8s/" title="a. Using an Ingress with NGINX (non-SSL)" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/configure-ingress/ingress-nginx-setup-for-oig-domain-setup-on-k8s/">
        a. Using an Ingress with NGINX (non-SSL)
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/configure-ingress/ingress-nginx-setup-for-oig-domain-setup-on-k8s-ssl/" title="b. Using an Ingress with NGINX (SSL)" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/configure-ingress/ingress-nginx-setup-for-oig-domain-setup-on-k8s-ssl/">
        b. Using an Ingress with NGINX (SSL)
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oig/validate-domain-urls/" title="Validate domain URLs" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oig/validate-domain-urls/">
          <b>6. </b>Validate domain URLs
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oig/post-install-config/" title="Post install configuration" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oig/post-install-config/">
          <b>7. </b>Post install configuration
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/post-install-config/set_oimfronendurl_using_mbeans/" title="a. Post Install Tasks" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/post-install-config/set_oimfronendurl_using_mbeans/">
        a. Post Install Tasks
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/post-install-config/install_and_configure_connectors/" title="b. Install and configure connectors" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/post-install-config/install_and_configure_connectors/">
        b. Install and configure connectors
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oig/configure-design-console/" title="Configure Design Console" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oig/configure-design-console/">
          <b>8. </b>Configure Design Console
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/configure-design-console/using-the-design-console-with-nginx-non-ssl/" title="a. Using Design Console with NGINX(non-SSL)" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/configure-design-console/using-the-design-console-with-nginx-non-ssl/">
        a. Using Design Console with NGINX(non-SSL)
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/configure-design-console/using-the-design-console-with-nginx-ssl/" title="b. Using Design Console with NGINX(SSL)" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/configure-design-console/using-the-design-console-with-nginx-ssl/">
        b. Using Design Console with NGINX(SSL)
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oig/manage-oig-domains/" title="Manage OIG domains" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oig/manage-oig-domains/">
          <b>9. </b>Manage OIG domains
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/manage-oig-domains/domain-lifecycle/" title="Domain life cycle" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/manage-oig-domains/domain-lifecycle/">
        <b>1. </b>Domain life cycle
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/manage-oig-domains/wlst-admin-operations/" title="WLST administration operations" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/manage-oig-domains/wlst-admin-operations/">
        <b>2. </b>WLST administration operations
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/manage-oig-domains/running-oig-utilities/" title="Runnning OIG utilities" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/manage-oig-domains/running-oig-utilities/">
        <b>3. </b>Runnning OIG utilities
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/manage-oig-domains/logging-and-visualization/" title="Logging and visualization" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/manage-oig-domains/logging-and-visualization/">
        <b>4. </b>Logging and visualization
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/manage-oig-domains/monitoring-oim-domains/" title="Monitoring an OIG domain" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/manage-oig-domains/monitoring-oim-domains/">
        <b>5. </b>Monitoring an OIG domain
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/manage-oig-domains/delete-domain-home/" title="Delete the OIG domain home" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/manage-oig-domains/delete-domain-home/">
        <b>6. </b>Delete the OIG domain home
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oig/create-or-update-image/" title="Create or update an image" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oig/create-or-update-image/">
          <b>10. </b>Create or update an image
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oig/patch-and-upgrade/" title="Patch and upgrade" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oig/patch-and-upgrade/">
          <b>11. </b>Patch and upgrade
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/patch-and-upgrade/patch_an_image/" title="a. Patch an image" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/patch-and-upgrade/patch_an_image/">
        a. Patch an image
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oig/patch-and-upgrade/upgrade_an_operator_release/" title="b. Upgrade an operator release" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oig/patch-and-upgrade/upgrade_an_operator_release/">
        b. Upgrade an operator release
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oig/troubleshooting/" title="Troubleshooting" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oig/troubleshooting/">
          <b>12. </b>Troubleshooting
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oud/" title="Oracle Unified Directory" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oud/">
          Oracle Unified Directory
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oud/release-notes/" title="Release Notes" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oud/release-notes/">
        <b>1. </b>Release Notes
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oud/prerequisites/" title="Prerequisites" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oud/prerequisites/">
          <b>2. </b>Prerequisites
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oud/prepare-your-environment/" title="Prepare Your Environment" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oud/prepare-your-environment/">
          <b>3. </b>Prepare Your Environment
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oud/create-oud-instances/" title="Create Oracle Unified Directory Instances" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oud/create-oud-instances/">
          <b>4. </b>Create Oracle Unified Directory Instances
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oud/configure-ingress/" title="Configure an Ingress for OUD" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oud/configure-ingress/">
          <b>5. </b>Configure an Ingress for OUD
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oud/manage-oud-containers/" title="Manage Oracle Unified Directory Containers" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oud/manage-oud-containers/">
          <b>6. </b>Manage Oracle Unified Directory Containers
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oud/manage-oud-containers/scaling-up-down/" title="a) Scaling Up/Down OUD Pods " class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oud/manage-oud-containers/scaling-up-down/">
        a) Scaling Up/Down OUD Pods 
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oud/manage-oud-containers/logging-and-visualization/" title="b) Logging and Visualization for Helm Chart oud-ds-rs Deployment" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oud/manage-oud-containers/logging-and-visualization/">
        b) Logging and Visualization for Helm Chart oud-ds-rs Deployment
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oud/manage-oud-containers/monitoring-oud-instance/" title="c) Monitoring an Oracle Unified Directory Instance" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oud/manage-oud-containers/monitoring-oud-instance/">
        c) Monitoring an Oracle Unified Directory Instance
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oud/create-or-update-image/" title="Create or update an image" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oud/create-or-update-image/">
          <b>7. </b>Create or update an image
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oud/patch-and-upgrade/" title="Patch and Upgrade" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oud/patch-and-upgrade/">
        <b>8. </b>Patch and Upgrade
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oud/troubleshooting/" title="Troubleshooting" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oud/troubleshooting/">
          <b>9. </b>Troubleshooting
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oudsm/" title="Oracle Unified Directory Services Manager" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oudsm/">
          Oracle Unified Directory Services Manager
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oudsm/release-notes/" title="Release Notes" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oudsm/release-notes/">
        <b>1. </b>Release Notes
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oudsm/prerequisites/" title="Prerequisites" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oudsm/prerequisites/">
          <b>2. </b>Prerequisites
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oudsm/prepare-your-environment/" title="Prepare Your Environment" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oudsm/prepare-your-environment/">
          <b>3. </b>Prepare Your Environment
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oudsm/create-oudsm-instances/" title="Create Oracle Unified Directory Services Manager Instances" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oudsm/create-oudsm-instances/">
          <b>4. </b>Create Oracle Unified Directory Services Manager Instances
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oudsm/configure-ingress/" title="Configure an Ingress for OUDSM" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oudsm/configure-ingress/">
          <b>5. </b>Configure an Ingress for OUDSM
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oudsm/manage-oudsm-containers/" title="Manage Oracle Unified Directory Services Manager Containers" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oudsm/manage-oudsm-containers/">
          <b>6. </b>Manage Oracle Unified Directory Services Manager Containers
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oudsm/manage-oudsm-containers/scaling-up-down/" title="a) Scaling Up/Down OUDSM Pods " class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oudsm/manage-oudsm-containers/scaling-up-down/">
        a) Scaling Up/Down OUDSM Pods 
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oudsm/manage-oudsm-containers/logging-and-visualization/" title="b) Logging and Visualization for Helm Chart oudsm Deployment" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oudsm/manage-oudsm-containers/logging-and-visualization/">
        b) Logging and Visualization for Helm Chart oudsm Deployment
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oudsm/manage-oudsm-containers/monitoring-oudsm-instance/" title="c) Monitoring an Oracle Unified Directory Services Manager Instance" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oudsm/manage-oudsm-containers/monitoring-oudsm-instance/">
        c) Monitoring an Oracle Unified Directory Services Manager Instance
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oudsm/create-or-update-image/" title="Create or update an image" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oudsm/create-or-update-image/">
          <b>7. </b>Create or update an image
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oudsm/patch-and-upgrade/" title="Patch and Upgrade" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oudsm/patch-and-upgrade/">
        <b>8. </b>Patch and Upgrade
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oudsm/troubleshooting/" title="Troubleshooting" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oudsm/troubleshooting/">
          <b>9. </b>Troubleshooting
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/fmw-kubernetes/22.3.1/oid/" title="Oracle Internet Directory" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/22.3.1/oid/">
          Oracle Internet Directory
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/22.3.1/oid/release-notes/" title="Release Notes" class="dd-item ">
        <a href="/fmw-kubernetes/22.3.1/oid/release-notes/">
        <b>1. </b>Release Notes
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp;</p>
<p><a href="https://github.com/oracle/fmw-kubernetes"><i class="fab fa-github"></i> GitHub repo</a></p>


    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/fmw-kubernetes/22.3.1/'>Oracle Fusion Middleware on Kubernetes</a> > <a href='/fmw-kubernetes/22.3.1/oam/'>Oracle Access Management</a> > <a href='/fmw-kubernetes/22.3.1/oam/manage-oam-domains/'>Manage OAM Domains</a> > a. Domain Life Cycle
          
         
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#view-existing-oam-servers">View existing OAM servers</a></li>
        <li><a href="#startingscaling-up-oam-managed-servers">Starting/Scaling up OAM Managed Servers</a></li>
        <li><a href="#stoppingscaling-down-oam-managed-servers">Stopping/Scaling down OAM Managed Servers</a></li>
        <li><a href="#stopping-and-starting-the-administration-server-and-managed-servers">Stopping and Starting the Administration Server and Managed Servers</a></li>
        <li><a href="#domain-lifecycle-sample-scripts">Domain lifecycle sample scripts</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              a. Domain Life Cycle
            </h1>
          

        



<ol>
<li><a href="#view-existing-oam-servers">View existing OAM servers</a></li>
<li><a href="#startingscaling-up-oam-managed-servers">Starting/Scaling up OAM Managed servers</a></li>
<li><a href="#stoppingscaling-down-oam-managed-servers">Stopping/Scaling down OAM Managed servers</a></li>
<li><a href="#stopping-and-starting-the-administration-server-and-managed-servers">Stopping and starting the Administration Server and Managed Servers</a></li>
<li><a href="domain-lifecycle-sample-scripts">Domain lifecycle sample scripts</a></li>
</ol>
<p>As OAM domains use the WebLogic Kubernetes Operator, domain lifecyle operations are managed using the WebLogic Kubernetes Operator itself.</p>
<p>This document shows the basic operations for starting, stopping and scaling servers in the OAM domain.</p>
<p>For more detailed information refer to <a href="https://oracle.github.io/weblogic-kubernetes-operator/userguide/managing-domains/domain-lifecycle/">Domain Life Cycle</a> in the <a href="https://oracle.github.io/weblogic-kubernetes-operator/">WebLogic Kubernetes Operator</a> documentation.</p>

<div class="notices note" ><p>Do not use the WebLogic Server Administration Console or Oracle Enterprise Manager Console to start or stop servers.</p>
</div>

<h3 id="view-existing-oam-servers">View existing OAM servers</h3>
<p>The default OAM deployment starts the Administration Server (<code>AdminServer</code>), two OAM Managed Servers (<code>oam_server1</code> and <code>oam_server2</code>) and two OAM Policy Manager server (<code>oam_policy_mgr1</code> and <code>oam_policy_mgr2</code> ).</p>
<p>The deployment also creates, but doesn&rsquo;t start, three extra OAM Managed Servers (<code>oam-server3</code> to <code>oam-server5</code>) and three more OAM Policy Manager servers (<code>oam_policy_mgr3</code> to <code>oam_policy_mgr5</code>).</p>
<p>All these servers are visible in the WebLogic Server Console <code>https://${MASTERNODE-HOSTNAME}:${MASTERNODE-PORT}/console</code> by navigating to <em>Domain Structure</em> &gt; <em>oamcluster</em> &gt; <em>Environment</em> &gt; <em>Servers</em>.</p>
<p>To view the running servers using kubectl, run the following command:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -n &lt;domain_namespace&gt;
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -n oamns
</code></pre></div><p>The output should look similar to the following:</p>
<pre><code>NAME                                                     READY   STATUS      RESTARTS   AGE
accessdomain-adminserver                                 1/1     Running     0          3h29m
accessdomain-create-oam-infra-domain-job-7c9r9           0/1     Completed   0          3h36m
accessdomain-oam-policy-mgr1                             1/1     Running     0          3h21m
accessdomain-oam-policy-mgr2                             1/1     Running     0          3h21m
accessdomain-oam-server1                                 1/1     Running     0          3h21m
accessdomain-oam-server2                                 1/1     Running     0          3h21m
helper                                                   1/1     Running     0          3h51m
nginx-ingress-ingress-nginx-controller-76fb7678f-k8rhq   1/1     Running     0          55m
</code></pre><h3 id="startingscaling-up-oam-managed-servers">Starting/Scaling up OAM Managed Servers</h3>
<p>The number of OAM Managed Servers running is dependent on the <code>replicas</code> parameter configured for the cluster. To start more OAM Managed Servers perform the following steps:</p>
<ol>
<li>
<p>Run the following kubectl command to edit the domain:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl edit domain &lt;domain_uid&gt; -n &lt;domain_namespace&gt;
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl edit domain accessdomain -n oamns
</code></pre></div><p><strong>Note</strong>: This opens an edit session for the domain where parameters can be changed using standard <code>vi</code> commands.</p>
</li>
<li>
<p>In the edit session search for <code>clusterName: oam_cluster</code> and look for the <code>replicas</code> parameter. By default the replicas parameter is set to &ldquo;2&rdquo; hence two OAM Managed Servers are started (<code>oam_server1</code> and <code>oam_server2</code>):</p>
<pre><code>  clusters:
  - clusterName: oam_cluster
    replicas: 2
    serverPod:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchExpressions:
                - key: weblogic.clusterName
                  operator: In
                  values:
                  - $(CLUSTER_NAME)
</code></pre></li>
<li>
<p>To start more OAM Managed Servers, increase the <code>replicas</code> value as desired. In the example below, two more managed servers will be started by setting <code>replicas</code> to &ldquo;4&rdquo;:</p>
<pre><code>  clusters:
  - clusterName: oam_cluster
    replicas: 4
    serverPod:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchExpressions:
                - key: weblogic.clusterName
                  operator: In
                  values:
                  - $(CLUSTER_NAME)
</code></pre></li>
<li>
<p>Save the file and exit (:wq!)</p>
<p>The output will look similar to the following:</p>
<pre><code>domain.weblogic.oracle/accessdomain edited
</code></pre></li>
<li>
<p>Run the following kubectl command to view the pods:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -n &lt;domain_namespace&gt;
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -n oamns
</code></pre></div><p>The output will look similar to the following:</p>
<pre><code>NAME                                                     READY   STATUS      RESTARTS   AGE
accessdomain-adminserver                                 1/1     Running     0          3h33m
accessdomain-create-oam-infra-domain-job-7c9r9           0/1     Completed   0          3h40m
accessdomain-oam-policy-mgr1                             1/1     Running     0          3h25m
accessdomain-oam-policy-mgr2                             1/1     Running     0          3h25m
accessdomain-oam-server1                                 1/1     Running     0          3h25m
accessdomain-oam-server2                                 1/1     Running     0          3h25m
accessdomain-oam-server3                                 0/1     Running     0          9s
accessdomain-oam-server4                                 0/1     Running     0          9s
helper                                                   1/1     Running     0          3h55m
nginx-ingress-ingress-nginx-controller-76fb7678f-k8rhq   1/1     Running     0          59m
</code></pre><p>Two new pods (<code>accessdomain-oam-server3</code> and <code>accessdomain-oam-server4</code>) are started, but currently have a <code>READY</code> status of <code>0/1</code>. This means <code>oam_server3</code> and <code>oam_server4</code> are not currently running but are in the process of starting. The servers will take several minutes to start so keep executing the command until <code>READY</code> shows <code>1/1</code>:</p>
<pre><code>NAME                                                     READY   STATUS      RESTARTS   AGE
accessdomain-adminserver                                 1/1     Running     0          3h37m
accessdomain-create-oam-infra-domain-job-7c9r9           0/1     Completed   0          3h43m
accessdomain-oam-policy-mgr1                             1/1     Running     0          3h29m
accessdomain-oam-policy-mgr2                             1/1     Running     0          3h29m
accessdomain-oam-server1                                 1/1     Running     0          3h29m
accessdomain-oam-server2                                 1/1     Running     0          3h29m
accessdomain-oam-server3                                 1/1     Running     0          3m45s
accessdomain-oam-server4                                 1/1     Running     0          3m45s
helper                                                   1/1     Running     0          3h59m
nginx-ingress-ingress-nginx-controller-76fb7678f-k8rhq   1/1     Running     0          63m

</code></pre><p><strong>Note</strong>: To check what is happening during server startup when <code>READY</code> is <code>0/1</code>, run the following command to view the log of the pod that is starting:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl logs &lt;pod&gt; -n &lt;domain_namespace&gt;
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl logs accessdomain-oam-server3 -n oamns
</code></pre></div></li>
<li>
<p>To start more OAM Policy Manager servers, repeat the previous commands but change the <code>replicas</code> parameter for the <code>policy_cluster</code>. In the example below <code>replicas</code> has been increased to &ldquo;4&rdquo;:</p>
<pre><code>  - clusterName: policy_cluster
    replicas: 2
    serverPod:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchExpressions:
                - key: weblogic.clusterName
                  operator: In
                  values:
                  - $(CLUSTER_NAME)
</code></pre><p>After saving the changes two new pods will be started (<code>accessdomain-oam-policy-mgr3</code> and <code>accessdomain-oam-policy-mgr4</code>). After a few minutes they will have a <code>READY</code> status of <code>1/1</code>. In the example below <code>accessdomain-oam-policy-mgr3</code> and <code>accessdomain-oam-policy-mgr4</code> are started:</p>
<pre><code>NAME                                                     READY   STATUS      RESTARTS   AGE
accessdomain-adminserver                                 1/1     Running     0          3h43m
accessdomain-create-oam-infra-domain-job-7c9r9           0/1     Completed   0          3h49m
accessdomain-oam-policy-mgr1                             1/1     Running     0          3h35m
accessdomain-oam-policy-mgr2                             1/1     Running     0          3h35m
accessdomain-oam-policy-mgr3                             1/1     Running     0          4m18s
accessdomain-oam-policy-mgr4                             1/1     Running     0          4m18s
accessdomain-oam-server1                                 1/1     Running     0          3h35m
accessdomain-oam-server2                                 1/1     Running     0          3h35m
accessdomain-oam-server3                                 1/1     Running     0          9m27s
accessdomain-oam-server4                                 1/1     Running     0          9m27s
helper                                                   1/1     Running     0          4h4m
nginx-ingress-ingress-nginx-controller-76fb7678f-k8rhq   1/1     Running     0          69m
</code></pre></li>
</ol>
<h3 id="stoppingscaling-down-oam-managed-servers">Stopping/Scaling down OAM Managed Servers</h3>
<p>As mentioned in the previous section, the number of OAM Managed Servers running is dependent on the <code>replicas</code> parameter configured for the cluster. To stop one or more OAM Managed Servers, perform the following:</p>
<ol>
<li>
<p>Run the following kubectl command to edit the domain:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl edit domain &lt;domain_uid&gt; -n &lt;domain_namespace&gt;
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl edit domain accessdomain -n oamns
</code></pre></div></li>
<li>
<p>In the edit session search for <code>clusterName: oam_cluster</code> and look for the <code>replicas</code> parameter. In the example below <code>replicas</code> is set to &ldquo;4&rdquo;, hence four OAM Managed Servers are started (<code>access-domain-oam_server1</code> - <code>access-domain-oam_server4</code>):</p>
<pre><code>  clusters:
  - clusterName: oam_cluster
    replicas: 4
    serverPod:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchExpressions:
                - key: weblogic.clusterName
                  operator: In
                  values:
                  - $(CLUSTER_NAME)
</code></pre></li>
<li>
<p>To stop OAM Managed Servers, decrease the <code>replicas</code> value as desired. In the example below, we will stop two managed servers by setting replicas to &ldquo;2&rdquo;:</p>
<pre><code>  clusters:
  - clusterName: oam_cluster
    replicas: 2
    serverPod:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchExpressions:
                - key: weblogic.clusterName
                  operator: In
                  values:
                  - $(CLUSTER_NAME)
</code></pre></li>
<li>
<p>Save the file and exit (:wq!)</p>
</li>
<li>
<p>Run the following kubectl command to view the pods:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -n &lt;domain_namespace&gt;
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -n oamns
</code></pre></div><p>The output will look similar to the following:</p>
<pre><code>NAME                                                     READY   STATUS        RESTARTS   AGE
accessdomain-adminserver                                 1/1     Running       0          3h45m
accessdomain-create-oam-infra-domain-job-7c9r9           0/1     Completed     0          3h51m
accessdomain-oam-policy-mgr1                             1/1     Running       0          3h37m
accessdomain-oam-policy-mgr2                             1/1     Running       0          3h37m
accessdomain-oam-policy-mgr3                             1/1     Running       0          6m18s
accessdomain-oam-policy-mgr4                             1/1     Running       0          6m18s
accessdomain-oam-server1                                 1/1     Running       0          3h37m
accessdomain-oam-server2                                 1/1     Running       0          3h37m
accessdomain-oam-server3                                 1/1     Running       0          11m
accessdomain-oam-server4                                 1/1     Terminating   0          11m
helper                                                   1/1     Running       0          4h6m
nginx-ingress-ingress-nginx-controller-76fb7678f-k8rhq   1/1     Running       0          71m
</code></pre><p>One pod now has a <code>STATUS</code> of <code>Terminating</code> (<code>accessdomain-oam-server4</code>). The server will take a minute or two to stop. Once terminated the other pod (<code>accessdomain-oam-server3</code>) will move to <code>Terminating</code> and then stop. Keep executing the command until the pods have disappeared:</p>
<pre><code>NAME                                            READY   STATUS      RESTARTS   AGE
accessdomain-adminserver                                 1/1     Running     0          3h48m
accessdomain-create-oam-infra-domain-job-7c9r9           0/1     Completed   0          3h54m
accessdomain-oam-policy-mgr1                             1/1     Running     0          3h40m
accessdomain-oam-policy-mgr2                             1/1     Running     0          3h40m
accessdomain-oam-policy-mgr3                             1/1     Running     0          9m18s
accessdomain-oam-policy-mgr4                             1/1     Running     0          9m18s
accessdomain-oam-server1                                 1/1     Running     0          3h40m
accessdomain-oam-server2                                 1/1     Running     0          3h40m
helper                                                   1/1     Running     0          4h9m
nginx-ingress-ingress-nginx-controller-76fb7678f-k8rhq   1/1     Running     0          74m
</code></pre></li>
<li>
<p>To stop OAM Policy Manager servers, repeat the previous commands but change the <code>replicas</code> parameter for the <code>policy_cluster</code>. In the example below <code>replicas</code> has been decreased from &ldquo;4&rdquo; to &ldquo;2&rdquo;:</p>
<pre><code>  - clusterName: policy_cluster
    replicas: 1
    serverPod:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - podAffinityTerm:
              labelSelector:
                matchExpressions:
                - key: weblogic.clusterName
                  operator: In
                  values:
                  - $(CLUSTER_NAME)
</code></pre><p>After saving the changes one pod will move to a <code>STATUS</code> of <code>Terminating</code> (<code>accessdomain-oam-policy-mgr4</code>).</p>
<pre><code>NAME                                            READY   STATUS        RESTARTS   AGE
accessdomain-adminserver                                 1/1     Running       0          3h49m
accessdomain-create-oam-infra-domain-job-7c9r9           0/1     Completed     0          3h55m
accessdomain-oam-policy-mgr1                             1/1     Running       0          3h41m
accessdomain-oam-policy-mgr2                             1/1     Running       0          3h41m
accessdomain-oam-policy-mgr3                             1/1     Running       0          10m
accessdomain-oam-policy-mgr4                             1/1     Terminating   0          10m
accessdomain-oam-server1                                 1/1     Running       0          3h41m
accessdomain-oam-server2                                 1/1     Running       0          3h41m
helper                                                   1/1     Running       0          4h11m
nginx-ingress-ingress-nginx-controller-76fb7678f-k8rhq   1/1     Running       0          75m
</code></pre><p>The pods will take a minute or two to stop, so keep executing the command until the pods has disappeared:</p>
<pre><code>NAME                                                     READY   STATUS      RESTARTS   AGE
accessdomain-adminserver                                 1/1     Running     0          3h50m
accessdomain-create-oam-infra-domain-job-7c9r9           0/1     Completed   0          3h57m
accessdomain-oam-policy-mgr1                             1/1     Running     0          3h42m
accessdomain-oam-policy-mgr2                             1/1     Running     0          3h42m
accessdomain-oam-server1                                 1/1     Running     0          3h42m
accessdomain-oam-server2                                 1/1     Running     0          3h42m
helper                                                   1/1     Running     0          4h12m
nginx-ingress-ingress-nginx-controller-76fb7678f-k8rhq   1/1     Running     0          76m
</code></pre></li>
</ol>
<h3 id="stopping-and-starting-the-administration-server-and-managed-servers">Stopping and Starting the Administration Server and Managed Servers</h3>
<p>To stop all the OAM Managed Servers and the Administration Server in one operation:</p>
<ol>
<li>
<p>Run the following kubectl command to edit the domain:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl edit domain &lt;domain_uid&gt; -n &lt;domain_namespace&gt;
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl edit domain accessdomain -n oamns
</code></pre></div></li>
<li>
<p>In the edit session search for <code>serverStartPolicy: IF_NEEDED</code>:</p>
<pre><code>    volumes:
    - name: weblogic-domain-storage-volume
      persistentVolumeClaim:
        claimName: accessdomain-domain-pvc
  serverStartPolicy: IF_NEEDED
  webLogicCredentialsSecret:
    name: accessdomain-credentials
</code></pre></li>
<li>
<p>Change <code>serverStartPolicy: IF_NEEDED</code> to <code>NEVER</code> as follows:</p>
<pre><code>    volumes:
    - name: weblogic-domain-storage-volume
      persistentVolumeClaim:
        claimName: accessdomain-domain-pvc
  serverStartPolicy: NEVER
  webLogicCredentialsSecret:
    name: accessdomain-credentials
</code></pre></li>
<li>
<p>Save the file and exit (:wq!).</p>
</li>
<li>
<p>Run the following kubectl command to view the pods:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -n &lt;domain_namespace&gt;
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -n oamns
</code></pre></div><p>The output will look similar to the following:</p>
<pre><code>NAME                                                     READY   STATUS        RESTARTS   AGE
accessdomain-adminserver                                 1/1     Terminating   0          3h52m
accessdomain-create-oam-infra-domain-job-7c9r9           0/1     Completed     0          3h59m
accessdomain-oam-policy-mgr1                             1/1     Terminating   0          3h44m
accessdomain-oam-policy-mgr2                             1/1     Terminating   0          3h44m
accessdomain-oam-server1                                 1/1     Terminating   0          3h44m
accessdomain-oam-server2                                 1/1     Terminating   0          3h44m
helper                                                   1/1     Running       0          4h14m
nginx-ingress-ingress-nginx-controller-76fb7678f-k8rhq   1/1     Running       0          78m
</code></pre><p>The Administration Server pods and Managed Server pods will move to a <code>STATUS</code> of <code>Terminating</code>. After a few minutes, run the command again and the pods should have disappeared:</p>
<pre><code>NAME                                                     READY   STATUS      RESTARTS   AGE
accessdomain-create-oam-infra-domain-job-7c9r9           0/1     Completed   0          4h
helper                                                   1/1     Running     0          4h15m
nginx-ingress-ingress-nginx-controller-76fb7678f-k8rhq   1/1     Running     0          80m
</code></pre></li>
<li>
<p>To start the Administration Server and Managed Servers up again, repeat the previous steps but change  <code>serverStartPolicy: NEVER</code> to <code>IF_NEEDED</code> as follows:</p>
<pre><code>    volumes:
    - name: weblogic-domain-storage-volume
      persistentVolumeClaim:
        claimName: accessdomain-domain-pvc
  serverStartPolicy: IF_NEEDED
  webLogicCredentialsSecret:
    name: accessdomain-credentials
</code></pre></li>
<li>
<p>Run the following kubectl command to view the pods:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -n &lt;domain_namespace&gt;
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -n oamns
</code></pre></div><p>The output will look similar to the following:</p>
<pre><code>NAME                                                     READY   STATUS      RESTARTS   AGE
accessdomain-create-oam-infra-domain-job-7c9r9           0/1     Completed   0          4h1m
accessdomain-introspector-jwqxw                          1/1     Running     0          10s
helper                                                   1/1     Running     0          4h17m
nginx-ingress-ingress-nginx-controller-76fb7678f-k8rhq   1/1     Running     0          81m
</code></pre><p>The Administration Server pod will start followed by the OAM Managed Servers pods. This process will take several minutes, so keep executing the command until all the pods are running with <code>READY</code> status <code>1/1</code> :</p>
<pre><code>NAME                                                     READY   STATUS      RESTARTS   AGE  
accessdomain-adminserver                                 1/1     Running     0          10m
accessdomain-create-oam-infra-domain-job-7c9r9           0/1     Completed   0          4h12m
accessdomain-oam-policy-mgr1                             1/1     Running     0          7m35s
accessdomain-oam-policy-mgr2                             1/1     Running     0          7m35s
accessdomain-oam-server1                                 1/1     Running     0          7m35s
accessdomain-oam-server2                                 1/1     Running     0          7m35s
helper                                                   1/1     Running     0          4h28m
nginx-ingress-ingress-nginx-controller-76fb7678f-k8rhq   1/1     Running     0          92m
</code></pre></li>
</ol>
<h3 id="domain-lifecycle-sample-scripts">Domain lifecycle sample scripts</h3>
<p>The WebLogic Kubernetes Operator provides sample scripts to start up or shut down a specific Managed Server or cluster in a deployed domain, or the entire deployed domain.</p>
<p><strong>Note</strong>: Prior to running these scripts, you must have previously created and deployed the domain.</p>
<p>The scripts are located in the <code>$WORKDIR/kubernetes/domain-lifecycle</code> directory. For more information, see the <a href="https://github.com/oracle/fmw-kubernetes/tree/master/OracleAccessManagement/kubernetes/domain-lifecycle">README</a>.</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/" title="Manage OAM Domains"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/fmw-kubernetes/22.3.1/oam/manage-oam-domains/wlst-admin-operations/" title="b. WLST Administration Operations" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/fmw-kubernetes/22.3.1/js/clipboard.min.js?1658484928"></script>
    <script src="/fmw-kubernetes/22.3.1/js/perfect-scrollbar.min.js?1658484928"></script>
    <script src="/fmw-kubernetes/22.3.1/js/perfect-scrollbar.jquery.min.js?1658484928"></script>
    <script src="/fmw-kubernetes/22.3.1/js/jquery.sticky.js?1658484928"></script>
    <script src="/fmw-kubernetes/22.3.1/js/featherlight.min.js?1658484928"></script>
    <script src="/fmw-kubernetes/22.3.1/js/highlight.pack.js?1658484928"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/fmw-kubernetes/22.3.1/js/modernizr.custom-3.6.0.js?1658484928"></script>
    <script src="/fmw-kubernetes/22.3.1/js/learn.js?1658484928"></script>
    <script src="/fmw-kubernetes/22.3.1/js/hugo-learn.js?1658484928"></script>

    <link href="/fmw-kubernetes/22.3.1/mermaid/mermaid.css?1658484928" rel="stylesheet" />
    <script src="/fmw-kubernetes/22.3.1/mermaid/mermaid.js?1658484928"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

