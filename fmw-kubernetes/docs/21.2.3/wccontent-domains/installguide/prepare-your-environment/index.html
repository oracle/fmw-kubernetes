<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.72.0" />
    <meta name="description" content="Prepare for creating Oracle WebCenter Content domain, including required secrets creation, persistent volume and volume claim creation, database creation, and database schema creation.">


    <link rel="icon" href="/fmw-kubernetes/21.2.3/images/favicon.png" type="image/png">

    <title>Prepare your environment :: Oracle Fusion Middleware on Kubernetes</title>

    
    <link href="/fmw-kubernetes/21.2.3/css/nucleus.css?1625810192" rel="stylesheet">
    <link href="/fmw-kubernetes/21.2.3/css/fontawesome-all.min.css?1625810192" rel="stylesheet">
    <link href="/fmw-kubernetes/21.2.3/css/hybrid.css?1625810192" rel="stylesheet">
    <link href="/fmw-kubernetes/21.2.3/css/featherlight.min.css?1625810192" rel="stylesheet">
    <link href="/fmw-kubernetes/21.2.3/css/perfect-scrollbar.min.css?1625810192" rel="stylesheet">
    <link href="/fmw-kubernetes/21.2.3/css/auto-complete.css?1625810192" rel="stylesheet">
    <link href="/fmw-kubernetes/21.2.3/css/atom-one-dark-reasonable.css?1625810192" rel="stylesheet">
    <link href="/fmw-kubernetes/21.2.3/css/theme.css?1625810192" rel="stylesheet">
    <link href="/fmw-kubernetes/21.2.3/css/hugo-theme.css?1625810192" rel="stylesheet">
    

    <script src="/fmw-kubernetes/21.2.3/js/jquery-3.3.1.min.js?1625810192"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/fmw-kubernetes/21.2.3/wccontent-domains/installguide/prepare-your-environment/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/fmw-kubernetes/21.2.3">
  <img src="/fmw-kubernetes/21.2.3/images/fmw_12c_12_2_1_4_0-logo.png" height="100"><br/>
  <b>Oracle Fusion Middleware on Kubernetes </b>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/fmw-kubernetes/21.2.3/js/lunr.min.js?1625810192"></script>
<script type="text/javascript" src="/fmw-kubernetes/21.2.3/js/auto-complete.js?1625810192"></script>
<script type="text/javascript">
    
        var baseurl = "\/fmw-kubernetes\/21.2.3";
    
</script>
<script type="text/javascript" src="/fmw-kubernetes/21.2.3/js/search.js?1625810192"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">
        <li><a  class="" href="/fmw-kubernetes/">Home</a></li>
        
          
          


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/" title="Oracle WebCenter Content" class="dd-item 
        parent
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wccontent-domains/">
          Oracle WebCenter Content
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/release-notes/" title="Release Notes" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/release-notes/">
        <b>1. </b>Release Notes
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/installguide/" title="Install Guide" class="dd-item 
        parent
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wccontent-domains/installguide/">
          <b>2. </b>Install Guide
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/installguide/prerequisites/" title="Requirements and limitations" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wccontent-domains/installguide/prerequisites/">
          <b>  </b>Requirements and limitations
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/installguide/prepare-your-environment/" title="Prepare your environment" class="dd-item 
        parent
        active
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wccontent-domains/installguide/prepare-your-environment/">
          <b>  </b>Prepare your environment
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/installguide/create-wccontent-domains/" title="Create Oracle WebCenter Content domain" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wccontent-domains/installguide/create-wccontent-domains/">
          <b>  </b>Create Oracle WebCenter Content domain
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/installguide/additional-steps-to-launch-native-binaries/" title="Launch Oracle Webcenter Content Native Applications in Containers" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wccontent-domains/installguide/additional-steps-to-launch-native-binaries/">
          <b>  </b>Launch Oracle Webcenter Content Native Applications in Containers
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/" title="Administration Guide" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/">
          <b>3.  </b>Administration Guide
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/configure-load-balancer/" title="Set up a load balancer" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/configure-load-balancer/">
          <b> </b>Set up a load balancer
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/configure-load-balancer/traefik/" title="Traefik" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/configure-load-balancer/traefik/">
        <b>a. </b>Traefik
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/configure-load-balancer/nginx/" title="NGINX" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/configure-load-balancer/nginx/">
        <b>b. </b>NGINX
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/configure-load-balancer/voyager/" title="Voyager" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/configure-load-balancer/voyager/">
        <b>c. </b>Voyager
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/configure-load-balancer/apache/" title="Apache webtier" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/configure-load-balancer/apache/">
        <b>d. </b>Apache webtier
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/weblogic-monitoring-exporter-setup/" title="Monitor an Oracle WebCenter Content domain" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/weblogic-monitoring-exporter-setup/">
        <b> </b>Monitor an Oracle WebCenter Content domain
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/elasticsearch-integration/" title="Elasticsearch integration for logs" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/elasticsearch-integration/">
        Elasticsearch integration for logs
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/weblogic-logging-exporter-setup/" title="Publish logs to Elasticsearch" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/weblogic-logging-exporter-setup/">
        Publish logs to Elasticsearch
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/logging-fluentd-setup/" title="Publish logs to Elasticsearch Using Fluentd" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/adminguide/logging-fluentd-setup/">
        Publish logs to Elasticsearch Using Fluentd
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/patch_and_upgrade/" title="Patch and upgrade" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wccontent-domains/patch_and_upgrade/">
          <b>4. </b>Patch and upgrade
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/patch_and_upgrade/patch-an-image/" title="Patch an image" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/patch_and_upgrade/patch-an-image/">
        <b>a. </b>Patch an image
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/patch_and_upgrade/upgrade-operator-release/" title="Upgrade an operator release" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/patch_and_upgrade/upgrade-operator-release/">
        <b>b. </b>Upgrade an operator release
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/patch_and_upgrade/upgrade-k8s-cluster/" title="Upgrade a Kubernetes cluster" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/patch_and_upgrade/upgrade-k8s-cluster/">
        <b>c. </b>Upgrade a Kubernetes cluster
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/create-or-update-image/" title="Create or update an image" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wccontent-domains/create-or-update-image/">
          <b>5. </b>Create or update an image
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/cleanup-domain-setup/" title="Uninstall" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/cleanup-domain-setup/">
        <b>6. </b>Uninstall
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/appendix/" title="Appendix" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wccontent-domains/appendix/">
          <b>7. </b>Appendix
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/appendix/wcc-cluster-sizing-info/" title="Domain resource sizing" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/appendix/wcc-cluster-sizing-info/">
        <b> </b>Domain resource sizing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/appendix/quickstart-deployment-guide/" title="Quick start deployment guide" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/appendix/quickstart-deployment-guide/">
        <b> </b>Quick start deployment guide
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wccontent-domains/appendix/docker-k8s-hardening/" title="Security hardening" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wccontent-domains/appendix/docker-k8s-hardening/">
        <b> </b>Security hardening
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/" title="Oracle WebCenter Portal" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/">
          Oracle WebCenter Portal
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/release-notes/" title="Release Notes" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wcportal-domains/release-notes/">
        <b>1. </b>Release Notes
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/installguide/" title="Install Guide" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/installguide/">
          <b>2. </b>Install Guide
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/installguide/prerequisites/" title="Requirements and limitations" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/installguide/prerequisites/">
          <b> </b>Requirements and limitations
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/installguide/prepare-your-environment/" title="Prepare your environment" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/installguide/prepare-your-environment/">
          <b>  </b>Prepare your environment
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/installguide/create-wcp-domain/" title="Create WebCenter Portal domain" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/installguide/create-wcp-domain/">
          <b>  </b>Create WebCenter Portal domain
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/installguide/configure-wcp-search/" title="Configure WebCenter Portal For Search" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/installguide/configure-wcp-search/">
          <b> </b>Configure WebCenter Portal For Search
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/" title="Administration Guide" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/">
          <b>3. </b>Administration Guide
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/configure-load-balancer/" title="Set up a load balancer" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/configure-load-balancer/">
          <b> </b>Set up a load balancer
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/configure-load-balancer/traefik/" title="Traefik" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/configure-load-balancer/traefik/">
        <b>a. </b>Traefik
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/configure-load-balancer/nginx/" title="NGINX" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/configure-load-balancer/nginx/">
        <b>b. </b>NGINX
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/configure-load-balancer/voyager/" title="Voyager" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/configure-load-balancer/voyager/">
        <b>c. </b>Voyager
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/configure-load-balancer/apachewebtier/" title="Apache webtier" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/configure-load-balancer/apachewebtier/">
        <b>d. </b>Apache webtier
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/monitoring-and-publishing-logs/" title="Monitor a domain and publish logs" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/monitoring-and-publishing-logs/">
          <b> </b>Monitor a domain and publish logs
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/monitoring-and-publishing-logs/monitoring-domain/" title=" Monitor a WebCenter Portal domain" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/monitoring-and-publishing-logs/monitoring-domain/">
          <b></b> Monitor a WebCenter Portal domain
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/monitoring-and-publishing-logs/publishing-logs/" title="Publish WebLogic Server logs into Elasticsearch" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/monitoring-and-publishing-logs/publishing-logs/">
          <b> </b>Publish WebLogic Server logs into Elasticsearch
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/monitoring-and-publishing-logs/publishing-logs/fluentd/" title=" Fluentd" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/monitoring-and-publishing-logs/publishing-logs/fluentd/">
          <b>a. </b> Fluentd
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/monitoring-and-publishing-logs/publishing-logs/weblogiclogging/" title="WebLogic logging exporter" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/manage-wcportal-domains/monitoring-and-publishing-logs/publishing-logs/weblogiclogging/">
          <b>b. </b>WebLogic logging exporter
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/create-or-update-image/" title="Create or update an image" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/create-or-update-image/">
          <b>4. </b>Create or update an image
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/cleanup-domain-setup/" title="Uninstall an Oracle WebCenter Portal domain" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wcportal-domains/cleanup-domain-setup/">
        <b>5. </b>Uninstall an Oracle WebCenter Portal domain
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/appendix/" title="Appendix" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/21.2.3/wcportal-domains/appendix/">
          <b>6. </b>Appendix
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/appendix/wcp-cluster-sizing-info/" title="Domain resource sizing" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wcportal-domains/appendix/wcp-cluster-sizing-info/">
        <b> </b>Domain resource sizing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/appendix/quickstart-deployment-on-prem/" title="Quick start deployment on-premise" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wcportal-domains/appendix/quickstart-deployment-on-prem/">
        <b> </b>Quick start deployment on-premise
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/appendix/docker-k8s-hardening/" title="Security hardening" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wcportal-domains/appendix/docker-k8s-hardening/">
        <b> </b>Security hardening
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/21.2.3/wcportal-domains/appendix/additional-configuration/" title="Additional Configuration" class="dd-item ">
        <a href="/fmw-kubernetes/21.2.3/wcportal-domains/appendix/additional-configuration/">
        <b> </b>Additional Configuration
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp;</p>
<p><a href="https://github.com/oracle/fmw-kubernetes"><i class="fab fa-github"></i> GitHub repo</a></p>


    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/fmw-kubernetes/21.2.3/'>Oracle Fusion Middleware on Kubernetes</a> > <a href='/fmw-kubernetes/21.2.3/wccontent-domains/'>Oracle WebCenter Content</a> > <a href='/fmw-kubernetes/21.2.3/wccontent-domains/installguide/'>Install Guide</a> > Prepare your environment
          
         
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#set-up-your-kubernetes-cluster">Set up your Kubernetes cluster</a></li>
        <li><a href="#install-helm">Install Helm</a></li>
        <li><a href="#pull-dependent-images">Pull dependent images</a></li>
        <li><a href="#set-up-the-code-repository-to-deploy-oracle-webcenter-content-domain">Set up the code repository to deploy Oracle WebCenter Content domain</a></li>
        <li><a href="#obtain-the-oracle-webcenter-content-docker-image">Obtain the Oracle WebCenter Content Docker image</a></li>
        <li><a href="#install-the-weblogic-kubernetes-operator">Install the WebLogic Kubernetes operator</a></li>
        <li><a href="#creating-namespace-and-service-account-for-operator">Creating namespace and service account for operator</a></li>
        <li><a href="#install-operator">Install operator</a></li>
        <li><a href="#prepare-the-environment-for-oracle-webcenter-content-domain">Prepare the environment for Oracle WebCenter Content domain</a></li>
        <li><a href="#create-oracle-webcenter-content-domain">Create Oracle WebCenter Content domain</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Prepare your environment
            </h1>
          

        




	<p>To prepare your Oracle WebCenter Content in Kubernetes environment, complete the following steps:</p>
<ol>
<li>
<p><a href="#set-up-your-kubernetes-cluster">Set up your Kubernetes cluster</a></p>
</li>
<li>
<p><a href="#install-helm">Install Helm</a></p>
</li>
<li>
<p><a href="#pull-dependent-images">Pull dependent images</a></p>
</li>
<li>
<p><a href="#set-up-the-code-repository-to-deploy-oracle-webcenter-content-domain">Set up the code repository to deploy Oracle WebCenter Content domain</a></p>
</li>
<li>
<p><a href="#obtain-the-oracle-webcenter-content-docker-image">Obtain the Oracle WebCenter Content Docker image</a></p>
</li>
<li>
<p><a href="#install-the-weblogic-kubernetes-operator">Install the WebLogic Kubernetes operator</a></p>
</li>
<li>
<p><a href="#prepare-the-environment-for-oracle-webcenter-content-domain">Prepare the environment for Oracle WebCenter Content domain</a></p>
<p>a. <a href="#create-a-namespace-for-the-oracle-webcenter-content-domain">Create a namespace for the Oracle WebCenter Content domain</a></p>
<p>b. <a href="#create-a-persistent-storage-for-the-oracle-webcenter-content-domain">Create a persistent storage for the Oracle WebCenter Content domain</a></p>
<p>c. <a href="#create-a-kubernetes-secret-with-domain-credentials">Create a Kubernetes secret with domain credentials</a></p>
<p>d. <a href="#create-a-kubernetes-secret-with-the-rcu-credentials">Create a Kubernetes secret with the RCU credentials</a></p>
<p>e. <a href="#configure-access-to-your-database">Configure access to your database</a></p>
<p>f. <a href="#run-the-repository-creation-utility-to-set-up-your-database-schemas">Run the Repository Creation Utility to set up your database schemas</a></p>
</li>
<li>
<p><a href="#create-oracle-webcenter-content-domain">Create Oracle WebCenter Content domain</a></p>
</li>
</ol>
<h3 id="set-up-your-kubernetes-cluster">Set up your Kubernetes cluster</h3>
<p>If you need help setting up a Kubernetes environment, check the <a href="https://oracle.github.io/weblogic-kubernetes-operator/userguide/overview/k8s-setup/">cheat sheet</a>.</p>
<h3 id="install-helm">Install Helm</h3>
<p>The operator uses Helm to create and deploy the necessary resources and then run the operator in a Kubernetes cluster. For Helm installation and usage information, see <a href="https://oracle.github.io/weblogic-kubernetes-operator/userguide/managing-operators/#install-helm">here</a>.</p>
<h3 id="pull-dependent-images">Pull dependent images</h3>
<p>Obtain dependent images and add them to your local registry.
Dependent images include WebLogic Kubernetes Operator, Traefik. Pull these images and add them to your local registry:</p>
<ol>
<li>Pull these docker images and re-tag them as shown:</li>
</ol>
<p>To pull an image from the Oracle Container Registry, in a web browser, navigate to <code>https://container-registry.oracle.com</code> and log in using the Oracle Single Sign-On authentication service. If you do not already have SSO credentials, at the top of the page, click the Sign In link to create them.</p>
<p>Use the web interface to accept the Oracle Standard Terms and Restrictions for the Oracle software images that you intend to deploy. Your acceptance of these terms are stored in a database that links the software images to your Oracle Single Sign-On login credentials.</p>
<p>Then, pull these docker images and re-tag them:</p>
<pre><code>docker login https://container-registry.oracle.com (enter your Oracle email Id and password)
This step is required once at every node to get access to the Oracle Container Registry.
</code></pre><p>WebLogic Kubernetes Operator image:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker pull container-registry.oracle.com/middleware/weblogic-kubernetes-operator:3.1.1
$ docker tag container-registry.oracle.com/middleware/weblogic-kubernetes-operator:3.1.1 oracle/weblogic-kubernetes-operator:3.1.1
</code></pre></div><p>Pull Traefik Image</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker pull traefik:2.2.8
</code></pre></div><h3 id="set-up-the-code-repository-to-deploy-oracle-webcenter-content-domain">Set up the code repository to deploy Oracle WebCenter Content domain</h3>
<p>Oracle WebCenter Content domain deployment on Kubernetes leverages the WebLogic Kubernetes operator infrastructure. To deploy an Oracle WebCenter Content domain, you must set up the deployment scripts.</p>
<ol>
<li>
<p>Create a working directory to set up the source code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ export WORKDIR<span style="color:#f92672">=</span>$HOME/wcc_3.1.1
$ mkdir <span style="color:#e6db74">${</span>WORKDIR<span style="color:#e6db74">}</span>
</code></pre></div></li>
<li>
<p>Download the supported version of the WebLogic Kubernetes operator source code from the operator github  project. Currently the supported operator version is <a href="https://github.com/oracle/weblogic-kubernetes-operator/releases/tag/v3.1.1">3.1.1</a>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ git clone https://github.com/oracle/weblogic-kubernetes-operator.git --branch release/3.1.1
</code></pre></div></li>
<li>
<p>Download the Oracle WebCenter Content Kubernetes deployment scripts from the WCC <a href="https://github.com/oracle/fmw-kubernetes.git">repository</a> and copy them to the WebLogic Kubernetes operator samples location:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ git clone https://github.com/oracle/fmw-kubernetes.git --branch release/21.2.3
   
$ cp -rf <span style="color:#e6db74">${</span>WORKDIR<span style="color:#e6db74">}</span>/fmw-kubernetes/OracleWebCenterContent/kubernetes/create-wcc-domain <span style="color:#e6db74">${</span>WORKDIR<span style="color:#e6db74">}</span>/weblogic-kubernetes-operator/kubernetes/samples/scripts/	  
   
$ cp -rf <span style="color:#e6db74">${</span>WORKDIR<span style="color:#e6db74">}</span>/fmw-kubernetes/OracleWebCenterContent/kubernetes/ingress-per-domain  <span style="color:#e6db74">${</span>WORKDIR<span style="color:#e6db74">}</span>/weblogic-kubernetes-operator/kubernetes/samples/charts/
   
$ cp -rf <span style="color:#e6db74">${</span>WORKDIR<span style="color:#e6db74">}</span>/fmw-kubernetes/OracleWebCenterContent/kubernetes/charts  <span style="color:#e6db74">${</span>WORKDIR<span style="color:#e6db74">}</span>/weblogic-kubernetes-operator/kubernetes/samples/scripts/
   
$ cp -rf <span style="color:#e6db74">${</span>WORKDIR<span style="color:#e6db74">}</span>/fmw-kubernetes/OracleWebCenterContent/kubernetes/imagetool-scripts  <span style="color:#e6db74">${</span>WORKDIR<span style="color:#e6db74">}</span>/weblogic-kubernetes-operator/kubernetes/samples/scripts/
</code></pre></div><p>``</p>
</li>
</ol>
<h3 id="obtain-the-oracle-webcenter-content-docker-image">Obtain the Oracle WebCenter Content Docker image</h3>
<p>The Oracle WebCenter Content image with latest bundle patch and required interim patches can be obtained from My Oracle Support (MOS). This is the only image supported for production deployments. Follow the below steps to download the Oracle WebCenter Content image from My Oracle Support.</p>
<ol>
<li>
<p>Download patch <a href="https://support.oracle.com/epmos/faces/ui/patch/PatchDetail.jspx?patchId=32822360">32822360</a> from My Oracle Support (MOS).</p>
</li>
<li>
<p>Unzip the downloaded patch zip file.</p>
<p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ unzip p32822360_122140_Linux-x86-64.zip
<span style="color:#75715e"># sample output</span>
Archive:  p32822360_122140_Linux-x86-64.zip
inflating: wccontent-12.2.1.4.0-8-ol7-210507.0906.tar
inflating: README.html
</code></pre></div></li>
<li>
<p>Load the image archive using the <code>docker load</code> command.</p>
<p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker load &lt; wccontent-12.2.1.4.0-8-ol7-210507.0906.tar
</code></pre></div>
<div class="expand">
    <div class="expand-label" style="cursor: pointer;" onclick="$h = $(this);$h.next('div').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('div').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
        <i style="font-size:x-small;" class="fas fa-chevron-right"></i>
        <span>
        
    	
    	Click here to see sample output
    	
    	</span>
    </div>
    <div class="expand-content" style="display: none;">
        <pre><code>d0df970fe76a: Loading layer [==================================================&gt;]  138.3MB/138.3MB
3b64a4bdc552: Loading layer [==================================================&gt;]  13.45MB/13.45MB
ee5141cc5c13: Loading layer [==================================================&gt;]  20.99kB/20.99kB
51f637dc720f: Loading layer [==================================================&gt;]    334MB/334MB
ffc8b247ad07: Loading layer [==================================================&gt;]   3.98GB/3.98GB
cd87862f5c14: Loading layer [==================================================&gt;]  4.608kB/4.608kB
12661fb5186c: Loading layer [==================================================&gt;]  137.2kB/137.2kB
f84db83c8dfa: Loading layer [==================================================&gt;]  69.12kB/69.12kB
Loaded image: oracle/wccontent:12.2.1.4.0-8-ol7-210507.0906
</code></pre>
    </div>
</div>
</li>
<li>
<p>Run the <code>docker inspect</code> command to verify that the downloaded image is the latest released image. The value of label <code>com.oracle.weblogic.imagetool.buildid</code> must match to <code>29ff0886-a299-4860-9b13-fd6bb80ec354</code>.</p>
<p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker inspect --format<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;{{ index .Config.Labels &#34;com.oracle.weblogic.imagetool.buildid&#34; }}&#39;</span>  oracle/wccontent:12.2.1.4.0-8-ol7-210507.0906
29ff0886-a299-4860-9b13-fd6bb80ec354
</code></pre></div></li>
</ol>
<p>Alternatively, if you want to build and use Oracle WebCenter Content Container image, using WebLogic Image Tool, with any additional bundle patch or interim patches, then follow these <a href="/fmw-kubernetes/21.2.3/wccontent-domains/create-or-update-image/#create-or-update-an-oracle-webcenter-content-docker-image-using-the-weblogic-image-tool">steps</a> to create the image.</p>
<blockquote>
<p>Note: The default Oracle WebCenter Content image name used for Oracle WebCenter Content domain deployment is <code>oracle/wccontent:12.2.1.4.0</code>. The image created must be tagged as <code>oracle/wccontent:12.2.1.4.0</code> using the <code>docker tag</code> command. If you want to use a different name for the image, make sure to update the new image tag name in the <code>create-domain-inputs.yaml</code> file and also in other instances where the <code>oracle/wccontent:12.2.1.4.0</code> image name is used.</p>
</blockquote>
<h3 id="install-the-weblogic-kubernetes-operator">Install the WebLogic Kubernetes operator</h3>
<p>The WebLogic Kubernetes operator supports the deployment of Oracle WebCenter Content domain in the Kubernetes environment. Follow the steps in <a href="https://github.com/oracle/weblogic-kubernetes-operator/blob/release/3.1.1/docs-source/content/quickstart/install.md">this document</a> to install the operator.</p>
<blockquote>
<p>Note: Optionally, you can execute these <a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/simple/elastic-stack/operator/">steps</a> to send the contents of the operator’s logs to Elasticsearch.</p>
</blockquote>
<p>In the following example commands to install the WebLogic Kubernetes operator, <code>opns</code> is the namespace and <code>op-sa</code> is the service account created for the operator:</p>
<h3 id="creating-namespace-and-service-account-for-operator">Creating namespace and service account for operator</h3>
<pre><code>$ kubectl create namespace opns
$ kubectl create serviceaccount -n opns  op-sa

</code></pre><h3 id="install-operator">Install operator</h3>
<pre><code>$ cd ${WORKDIR}/weblogic-kubernetes-operator

$ helm install weblogic-kubernetes-operator kubernetes/charts/weblogic-operator  --namespace opns  --set image=oracle/weblogic-kubernetes-operator:3.1.1 --set serviceAccount=op-sa --set &quot;domainNamespaces={}&quot; --set &quot;javaLoggingLevel=FINE&quot; --wait
</code></pre><h3 id="prepare-the-environment-for-oracle-webcenter-content-domain">Prepare the environment for Oracle WebCenter Content domain</h3>
<h4 id="create-a-namespace-for-the-oracle-webcenter-content-domain">Create a namespace for the Oracle WebCenter Content domain</h4>
<p>Create a Kubernetes namespace (for example, <code>wccns</code>) for the domain unless you intend to use the default namespace. Use the new namespace in the remaining steps in this section.
For details, see <a href="https://oracle.github.io/weblogic-kubernetes-operator/quickstart/prepare/">Prepare to run a domain</a>.</p>
<pre><code> $ kubectl create namespace wccns
 
 $ cd ${WORKDIR}/weblogic-kubernetes-operator
 $ helm upgrade --reuse-values --namespace opns --set &quot;domainNamespaces={wccns}&quot; --wait weblogic-kubernetes-operator kubernetes/charts/weblogic-operator
 
</code></pre><h4 id="create-a-persistent-storage-for-the-oracle-webcenter-content-domain">Create a persistent storage for the Oracle WebCenter Content domain</h4>
<p>In the Kubernetes namespace you created, create the PV and PVC for the domain by running the <a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/simple/storage/">create-pv-pvc.sh</a> script. Follow the instructions for using the script to create a dedicated PV and PVC for the Oracle WebCenter Content domain.</p>
<ul>
<li>
<p>Review the configuration parameters for PV creation <a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/simple/storage/#configuration-parameters">here</a>. Based on your requirements, update the values in the <code>create-pv-pvc-inputs.yaml</code> file located at <code>${WORKDIR}/weblogic-kubernetes-operator/kubernetes/samples/scripts/create-weblogic-domain-pv-pvc/</code>. Sample configuration parameter values for the Oracle WebCenter Content domain are:</p>
<ul>
<li><code>baseName</code>: domain</li>
<li><code>domainUID</code>: wccinfra</li>
<li><code>namespace</code>: wccns</li>
<li><code>weblogicDomainStorageType</code>: HOST_PATH</li>
<li><code>weblogicDomainStoragePath</code>: /net/&lt;your_host_name&gt;/scratch/k8s_dir/wcc</li>
</ul>
</li>
<li>
<p>Ensure that the path for the <code>weblogicDomainStoragePath</code> property exists (if not, please refer subsection 4 of <a href="https://oracle.github.io/fmw-kubernetes/wccontent-domains/appendix/quickstart-deployment-guide/#61-prepare-for-an-oracle-webcenter-content-domain">this</a> document to create it first) and
has full access permissions, and that the folder is empty.</p>
</li>
<li>
<p>Run the <code>create-pv-pvc.sh</code> script:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cd <span style="color:#e6db74">${</span>WORKDIR<span style="color:#e6db74">}</span>/weblogic-kubernetes-operator/kubernetes/samples/scripts/create-weblogic-domain-pv-pvc
$ rm -rf output/
		
$ ./create-pv-pvc.sh -i create-pv-pvc-inputs.yaml -o output
    
</code></pre></div></li>
<li>
<p>The <code>create-pv-pvc.sh</code> script will create a subdirectory <code>pv-pvcs</code> under the given <code>/path/to/output-directory</code> directory and creates two YAML configuration files for PV and PVC. Apply these two YAML files to create the PV and PVC Kubernetes resources using the <code>kubectl create -f</code> command:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl create -f output/pv-pvcs/wccinfra-domain-pv.yaml -n wccns
$ kubectl create -f output/pv-pvcs/wccinfra-domain-pvc.yaml -n wccns
</code></pre></div></li>
<li>
<p>Get the details of PV and PVC:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl describe pv wccinfra-domain-pv
	
$ kubectl describe pvc wccinfra-domain-pvc -n wccns
</code></pre></div></li>
</ul>
<h4 id="create-a-kubernetes-secret-with-domain-credentials">Create a Kubernetes secret with domain credentials</h4>
<p>Create the Kubernetes secrets <code>username</code> and <code>password</code> of the administrative account in the same Kubernetes namespace as the domain:</p>
<pre><code>  $ cd ${WORKDIR}/weblogic-kubernetes-operator/kubernetes/samples/scripts/create-weblogic-domain-credentials
  
  $ ./create-weblogic-credentials.sh -u weblogic -p welcome1 -n wccns -d wccinfra -s wccinfra-domain-credentials
</code></pre><p>For more details, see <a href="https://github.com/oracle/weblogic-kubernetes-operator/blob/v3.1.1/kubernetes/samples/scripts/create-weblogic-domain-credentials/README.md">this document</a>.</p>
<p>You can check the secret with the <code>kubectl get secret</code> command.</p>
<p>For example:</p>

<div class="expand">
    <div class="expand-label" style="cursor: pointer;" onclick="$h = $(this);$h.next('div').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('div').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
        <i style="font-size:x-small;" class="fas fa-chevron-right"></i>
        <span>
        
    	
    	Click here to see the sample secret description.
    	
    	</span>
    </div>
    <div class="expand-content" style="display: none;">
        <pre><code>$ kubectl get secret wccinfra-domain-credentials -o yaml -n wccns
apiVersion: v1
data:
password: d2VsY29tZTE=
username: d2VibG9naWM=
kind: Secret
metadata:
creationTimestamp: &quot;2020-09-16T08:22:50Z&quot;
labels:
  weblogic.domainName: wccinfra
  weblogic.domainUID: wccinfra
managedFields:
- apiVersion: v1
  fieldsType: FieldsV1
  fieldsV1:
    f:data:
      .: {}
      f:password: {}
      f:username: {}
    f:metadata:
      f:labels:
        .: {}
        f:weblogic.domainName: {}
        f:weblogic.domainUID: {}
    f:type: {}
  manager: kubectl
  operation: Update
  time: &quot;2020-09-16T08:22:50Z&quot;
name: wccinfra-domain-credentials
namespace: wccns
resourceVersion: &quot;3277100&quot;
selfLink: /api/v1/namespaces/wccns/secrets/wccinfra-domain-credentials
uid: 35a8313f-1ec2-44b0-a2bf-fee381eed57f
type: Opaque

</code></pre>
    </div>
</div>
<h4 id="create-a-kubernetes-secret-with-the-rcu-credentials">Create a Kubernetes secret with the RCU credentials</h4>
<p>You also need to create a Kubernetes secret containing the credentials for the database schemas.
When you create your domain, it will obtain the RCU credentials
from this secret.</p>
<p>Use the provided sample script to create the secret:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cd <span style="color:#e6db74">${</span>WORKDIR<span style="color:#e6db74">}</span>/weblogic-kubernetes-operator/kubernetes/samples/scripts/create-rcu-credentials

$ ./create-rcu-credentials.sh -u weblogic -p welcome1 -a sys -q welcome1 -d wccinfra -n wccns -s wccinfra-rcu-credentials 

</code></pre></div><p>The parameter values are:</p>
<p><code>-u</code> username for schema owner (regular user), required.<br>
<code>-p</code> password for schema owner (regular user), required.<br>
<code>-a</code> username for SYSDBA user, required.<br>
<code>-q</code> password for SYSDBA user, required.<br>
<code>-d</code> domainUID. Example: <code>wccinfra</code><br>
<code>-n</code> namespace. Example: <code>wccns</code><br>
<code>-s</code> secretName. Example: <code>wccinfra-rcu-credentials</code></p>
<p>You can confirm the secret was created as expected with the <code>kubectl get secret</code> command.</p>
<p>For example:</p>

<div class="expand">
    <div class="expand-label" style="cursor: pointer;" onclick="$h = $(this);$h.next('div').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('div').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
        <i style="font-size:x-small;" class="fas fa-chevron-right"></i>
        <span>
        
    	
    	Click here to see the sample secret description.
    	
    	</span>
    </div>
    <div class="expand-content" style="display: none;">
        <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get secret wccinfra-rcu-credentials -o yaml -n wccns
  apiVersion: v1
data:
  password: d2VsY29tZTE<span style="color:#f92672">=</span>
  sys_password: d2VsY29tZTE<span style="color:#f92672">=</span>
  sys_username: c3lz
  username: d2VibG9naWM<span style="color:#f92672">=</span>
kind: Secret
metadata:
  creationTimestamp: <span style="color:#e6db74">&#34;2020-09-16T08:23:04Z&#34;</span>
  labels:
    weblogic.domainName: wccinfra
    weblogic.domainUID: wccinfra
  managedFields:
  - apiVersion: v1
    fieldsType: FieldsV1
    fieldsV1:
      f:data:
        .: <span style="color:#f92672">{}</span>
        f:password: <span style="color:#f92672">{}</span>
        f:sys_password: <span style="color:#f92672">{}</span>
        f:sys_username: <span style="color:#f92672">{}</span>
        f:username: <span style="color:#f92672">{}</span>
      f:metadata:
        f:labels:
          .: <span style="color:#f92672">{}</span>
          f:weblogic.domainName: <span style="color:#f92672">{}</span>
          f:weblogic.domainUID: <span style="color:#f92672">{}</span>
      f:type: <span style="color:#f92672">{}</span>
    manager: kubectl
    operation: Update
    time: <span style="color:#e6db74">&#34;2020-09-16T08:23:04Z&#34;</span>
  name: wccinfra-rcu-credentials
  namespace: wccns
  resourceVersion: <span style="color:#e6db74">&#34;3277132&#34;</span>
  selfLink: /api/v1/namespaces/wccns/secrets/wccinfra-rcu-credentials
  uid: b75f4e13-84e6-40f5-84ba-0213d85bdf30
type: Opaque

</code></pre></div>
    </div>
</div>
<h4 id="configure-access-to-your-database">Configure access to your database</h4>
<p>Run a container to create <code>rcu pod</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">   kubectl run rcu --generator<span style="color:#f92672">=</span>run-pod/v1 --image oracle/wccontent:12.2.1.4 -n wccns  -- sleep infinity
   
   <span style="color:#75715e">#check the status of rcu pod</span>
   kubectl get pods -n wccns
</code></pre></div><h4 id="run-the-repository-creation-utility-to-set-up-your-database-schemas">Run the Repository Creation Utility to set up your database schemas</h4>
<h5 id="create-or-drop-schemas">Create OR Drop schemas</h5>
<p>To create the database schemas for Oracle WebCenter Content, run the <code>create-rcu-schema.sh</code> script.</p>
<p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">   <span style="color:#75715e"># make sure rcu pod status is running before executing this</span> 
   kubectl exec -n wccns -ti rcu /bin/bash
   
   <span style="color:#75715e"># DB details</span> 
   export CONNECTION_STRING<span style="color:#f92672">=</span>your_db_host:1521/your_db_service
   export RCUPREFIX<span style="color:#f92672">=</span>your_schema_prefix
   echo -e welcome1<span style="color:#e6db74">&#34;\n&#34;</span>welcome1&gt; /tmp/pwd.txt
   
   <span style="color:#75715e"># Create schemas</span>
   /u01/oracle/oracle_common/bin/rcu -silent -createRepository -databaseType ORACLE -connectString $CONNECTION_STRING -dbUser sys -dbRole sysdba -useSamePasswordForAllSchemaUsers true -selectDependentsForComponents true -schemaPrefix $RCUPREFIX -component CONTENT -component MDS   -component STB -component OPSS  -component IAU -component IAU_APPEND -component IAU_VIEWER -component WLS  -tablespace USERS -tempTablespace TEMP -f &lt; /tmp/pwd.txt
   
   <span style="color:#75715e"># Drop schemas</span>
   /u01/oracle/oracle_common/bin/rcu -silent -dropRepository -databaseType ORACLE -connectString $CONNECTION_STRING -dbUser sys -dbRole sysdba -selectDependentsForComponents true -schemaPrefix $RCUPREFIX -component CONTENT -component MDS  -component STB -component OPSS  -component IAU -component IAU_APPEND -component IAU_VIEWER -component WLS -f &lt; /tmp/pwd.txt 
   
   <span style="color:#75715e">#exit from the container</span>
   exit
   
</code></pre></div><h3 id="create-oracle-webcenter-content-domain">Create Oracle WebCenter Content domain</h3>
<p>Now that you have your Docker images and you have created your RCU schemas, you are ready to create your domain. To continue, follow the instructions in <a href="/fmw-kubernetes/21.2.3/wccontent-domains/installguide/create-wccontent-domains/">Create Oracle WebCenter Content domains</a>.</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/fmw-kubernetes/21.2.3/wccontent-domains/installguide/prerequisites/" title="Requirements and limitations"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/fmw-kubernetes/21.2.3/wccontent-domains/installguide/create-wccontent-domains/" title="Create Oracle WebCenter Content domain" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/fmw-kubernetes/21.2.3/js/clipboard.min.js?1625810192"></script>
    <script src="/fmw-kubernetes/21.2.3/js/perfect-scrollbar.min.js?1625810192"></script>
    <script src="/fmw-kubernetes/21.2.3/js/perfect-scrollbar.jquery.min.js?1625810192"></script>
    <script src="/fmw-kubernetes/21.2.3/js/jquery.sticky.js?1625810192"></script>
    <script src="/fmw-kubernetes/21.2.3/js/featherlight.min.js?1625810192"></script>
    <script src="/fmw-kubernetes/21.2.3/js/highlight.pack.js?1625810192"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/fmw-kubernetes/21.2.3/js/modernizr.custom-3.6.0.js?1625810192"></script>
    <script src="/fmw-kubernetes/21.2.3/js/learn.js?1625810192"></script>
    <script src="/fmw-kubernetes/21.2.3/js/hugo-learn.js?1625810192"></script>

    <link href="/fmw-kubernetes/21.2.3/mermaid/mermaid.css?1625810192" rel="stylesheet" />
    <script src="/fmw-kubernetes/21.2.3/mermaid/mermaid.js?1625810192"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>
