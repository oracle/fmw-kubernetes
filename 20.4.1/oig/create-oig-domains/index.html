<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.72.0" />
    <meta name="description" content="Sample for creating an OIG domain home on an existing PV or PVC, and the domain resource YAML file for deploying the generated OIG domain.">


    <link rel="icon" href="/fmw-kubernetes/20.4.1/images/favicon.png" type="image/png">

    <title>Create OIG domains :: Oracle Fusion Middleware on Kubernetes</title>

    
    <link href="/fmw-kubernetes/20.4.1/css/nucleus.css?1612502690" rel="stylesheet">
    <link href="/fmw-kubernetes/20.4.1/css/fontawesome-all.min.css?1612502690" rel="stylesheet">
    <link href="/fmw-kubernetes/20.4.1/css/hybrid.css?1612502690" rel="stylesheet">
    <link href="/fmw-kubernetes/20.4.1/css/featherlight.min.css?1612502690" rel="stylesheet">
    <link href="/fmw-kubernetes/20.4.1/css/perfect-scrollbar.min.css?1612502690" rel="stylesheet">
    <link href="/fmw-kubernetes/20.4.1/css/auto-complete.css?1612502690" rel="stylesheet">
    <link href="/fmw-kubernetes/20.4.1/css/atom-one-dark-reasonable.css?1612502690" rel="stylesheet">
    <link href="/fmw-kubernetes/20.4.1/css/theme.css?1612502690" rel="stylesheet">
    <link href="/fmw-kubernetes/20.4.1/css/hugo-theme.css?1612502690" rel="stylesheet">
    

    <script src="/fmw-kubernetes/20.4.1/js/jquery-3.3.1.min.js?1612502690"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/fmw-kubernetes/20.4.1/oig/create-oig-domains/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/fmw-kubernetes/20.4.1/">
  <img src="/fmw-kubernetes/20.4.1//images/fmw_12c_12_2_1_4_0-logo.png" height="100"><br/>
  <b>Oracle Fusion Middleware on Kubernetes </b>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/fmw-kubernetes/20.4.1/js/lunr.min.js?1612502690"></script>
<script type="text/javascript" src="/fmw-kubernetes/20.4.1/js/auto-complete.js?1612502690"></script>
<script type="text/javascript">
    
        var baseurl = "\/fmw-kubernetes\/20.4.1\/";
    
</script>
<script type="text/javascript" src="/fmw-kubernetes/20.4.1/js/search.js?1612502690"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">
        <li><a  class="" href="/fmw-kubernetes/">Home</a></li>
        
          
          


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oam/" title="Oracle Access Management" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oam/">
          Oracle Access Management
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oam/prerequisites/" title="Prerequisites" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oam/prerequisites/">
          <b>1. </b>Prerequisites
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oam/prepare-your-environment/" title="Prepare your environment" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oam/prepare-your-environment/">
          <b>2. </b>Prepare your environment
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oam/create-oam-domains/" title="Create OAM domains" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oam/create-oam-domains/">
          <b>3. </b>Create OAM domains
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oam/configure-ingress/" title="Configure an Ingress for an OAM domain" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oam/configure-ingress/">
          <b>4. </b>Configure an Ingress for an OAM domain
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oam/configure-ingress/ingress-nginx-setup-for-oam-domain-setup-on-k8s/" title="a. Using an Ingress with NGINX" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oam/configure-ingress/ingress-nginx-setup-for-oam-domain-setup-on-k8s/">
        a. Using an Ingress with NGINX
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oam/configure-ingress/ingress-voyager-setup-for-oam-domain-setup-on-k8s/" title="b. Using an Ingress with Voyager" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oam/configure-ingress/ingress-voyager-setup-for-oam-domain-setup-on-k8s/">
        b. Using an Ingress with Voyager
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oam/validate-domain-urls/" title="Validate Domain URLs" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oam/validate-domain-urls/">
          <b>5. </b>Validate Domain URLs
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oam/post-install-config/" title="Post Install Configuration" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oam/post-install-config/">
          <b>6. </b>Post Install Configuration
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oam/validate-sso-using-webgate/" title="Validate a Basic SSO Flow using WebGate Registration " class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oam/validate-sso-using-webgate/">
          <b>7. </b>Validate a Basic SSO Flow using WebGate Registration 
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oam/manage-oam-domains/" title="Manage OAM Domains" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oam/manage-oam-domains/">
          <b>8. </b>Manage OAM Domains
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oam/manage-oam-domains/domain-lifecycle/" title="Domain Life Cycle" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oam/manage-oam-domains/domain-lifecycle/">
        <b>1. </b>Domain Life Cycle
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oam/manage-oam-domains/wlst-admin-operations/" title="WLST Administration Operations" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oam/manage-oam-domains/wlst-admin-operations/">
        <b>2. </b>WLST Administration Operations
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oam/manage-oam-domains/logging-and-visualization/" title="Logging and Visualization" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oam/manage-oam-domains/logging-and-visualization/">
        <b>3. </b>Logging and Visualization
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oam/manage-oam-domains/monitoring-oam-domains/" title="Monitoring an OAM domain" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oam/manage-oam-domains/monitoring-oam-domains/">
        <b>4. </b>Monitoring an OAM domain
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oam/manage-oam-domains/delete-domain-home/" title="Delete the OAM domain home" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oam/manage-oam-domains/delete-domain-home/">
        <b>5. </b>Delete the OAM domain home
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oam/patch-and-upgrade/" title="Patch and Upgrade" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oam/patch-and-upgrade/">
          <b>9. </b>Patch and Upgrade
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oam/patch-and-upgrade/patch_an_image/" title="a. Patch an image" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oam/patch-and-upgrade/patch_an_image/">
        a. Patch an image
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oam/patch-and-upgrade/upgrade_an_operator_release/" title="b. Upgrade an operator release" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oam/patch-and-upgrade/upgrade_an_operator_release/">
        b. Upgrade an operator release
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oam/patch-and-upgrade/upgrade_a_kubernetes_cluster/" title="c. Upgrade a Kubernetes cluster" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oam/patch-and-upgrade/upgrade_a_kubernetes_cluster/">
        c. Upgrade a Kubernetes cluster
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oam/security-hardening/" title="Security Hardening" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oam/security-hardening/">
          <b>10. </b>Security Hardening
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oam/troubleshooting/" title="Troubleshooting" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oam/troubleshooting/">
          <b>11. </b>Troubleshooting
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oig/" title="Oracle Identity Governance" class="dd-item 
        parent
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oig/">
          Oracle Identity Governance
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oig/prerequisites/" title="Prerequisites" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oig/prerequisites/">
          <b>1. </b>Prerequisites
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oig/prepare-your-environment/" title="Prepare your environment" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oig/prepare-your-environment/">
          <b>2. </b>Prepare your environment
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oig/create-oig-domains/" title="Create OIG domains" class="dd-item 
        parent
        active
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oig/create-oig-domains/">
          <b>3. </b>Create OIG domains
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oig/configure-ingress/" title="Configure an Ingress for an OIG domain" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oig/configure-ingress/">
          <b>4. </b>Configure an Ingress for an OIG domain
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/configure-ingress/ingress-nginx-setup-for-oig-domain-setup-on-k8s/" title="a. Using an Ingress with NGINX (non-SSL)" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/configure-ingress/ingress-nginx-setup-for-oig-domain-setup-on-k8s/">
        a. Using an Ingress with NGINX (non-SSL)
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/configure-ingress/ingress-nginx-setup-for-oig-domain-setup-on-k8s-ssl/" title="b. Using an Ingress with NGINX (SSL)" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/configure-ingress/ingress-nginx-setup-for-oig-domain-setup-on-k8s-ssl/">
        b. Using an Ingress with NGINX (SSL)
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/configure-ingress/ingress-voyager-setup-for-oig-domain-setup-on-k8s/" title="c. Using an Ingress with Voyager (non-SSL)" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/configure-ingress/ingress-voyager-setup-for-oig-domain-setup-on-k8s/">
        c. Using an Ingress with Voyager (non-SSL)
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/configure-ingress/ingress-voyager-setup-for-oig-domain-setup-on-k8s-ssl/" title="d. Using an Ingress with Voyager (SSL)" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/configure-ingress/ingress-voyager-setup-for-oig-domain-setup-on-k8s-ssl/">
        d. Using an Ingress with Voyager (SSL)
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oig/validate-domain-urls/" title="Validate Domain URLs" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oig/validate-domain-urls/">
          <b>5. </b>Validate Domain URLs
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oig/post-install-config/" title="Post Install Configuration" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oig/post-install-config/">
          <b>6. </b>Post Install Configuration
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/post-install-config/set_oimfronendurl_using_mbeans/" title="a. Set OIMfrontendURL" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/post-install-config/set_oimfronendurl_using_mbeans/">
        a. Set OIMfrontendURL
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/post-install-config/install_and_configure_connectors/" title="b. Install and Configure Connectors" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/post-install-config/install_and_configure_connectors/">
        b. Install and Configure Connectors
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oig/configure-design-console/" title="Configure Design Console" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oig/configure-design-console/">
          <b>7. </b>Configure Design Console
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/configure-design-console/using-the-design-console-with-nginx-non-ssl/" title="a. Using Design Console with NGINX(non-SSL)" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/configure-design-console/using-the-design-console-with-nginx-non-ssl/">
        a. Using Design Console with NGINX(non-SSL)
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/configure-design-console/using-the-design-console-with-nginx-ssl/" title="a. Using Design Console with NGINX(SSL)" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/configure-design-console/using-the-design-console-with-nginx-ssl/">
        a. Using Design Console with NGINX(SSL)
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/configure-design-console/using-the-design-console-with-voyager-non-ssl/" title="a. Using Design Console with Voyager(non-SSL)" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/configure-design-console/using-the-design-console-with-voyager-non-ssl/">
        a. Using Design Console with Voyager(non-SSL)
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/configure-design-console/using-the-design-console-with-voyager-ssl/" title="a. Using Design Console with Voyager(SSL)" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/configure-design-console/using-the-design-console-with-voyager-ssl/">
        a. Using Design Console with Voyager(SSL)
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oig/manage-oig-domains/" title="Manage OIG Domains" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oig/manage-oig-domains/">
          <b>7. </b>Manage OIG Domains
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/manage-oig-domains/domain-lifecycle/" title="Domain Life Cycle" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/manage-oig-domains/domain-lifecycle/">
        <b>1. </b>Domain Life Cycle
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/manage-oig-domains/wlst-admin-operations/" title="WLST Administration Operations" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/manage-oig-domains/wlst-admin-operations/">
        <b>2. </b>WLST Administration Operations
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/manage-oig-domains/running-oig-utilities/" title="Runnning OIG Utilities" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/manage-oig-domains/running-oig-utilities/">
        <b>3. </b>Runnning OIG Utilities
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/manage-oig-domains/logging-and-visualization/" title="Logging and Visualization" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/manage-oig-domains/logging-and-visualization/">
        <b>4. </b>Logging and Visualization
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/manage-oig-domains/monitoring-oim-domains/" title="Monitoring an OIG domain" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/manage-oig-domains/monitoring-oim-domains/">
        <b>5. </b>Monitoring an OIG domain
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/manage-oig-domains/delete-domain-home/" title="Delete the OIG domain home" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/manage-oig-domains/delete-domain-home/">
        <b>6. </b>Delete the OIG domain home
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oig/patch-and-upgrade/" title="Patch and Upgrade" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oig/patch-and-upgrade/">
          <b>8. </b>Patch and Upgrade
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/patch-and-upgrade/patch_an_image/" title="a. Patch an image" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/patch-and-upgrade/patch_an_image/">
        a. Patch an image
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/patch-and-upgrade/upgrade_an_operator_release/" title="b. Upgrade an operator release" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/patch-and-upgrade/upgrade_an_operator_release/">
        b. Upgrade an operator release
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oig/patch-and-upgrade/upgrade_a_kubernetes_cluster/" title="c. Upgrade a Kubernetes cluster" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oig/patch-and-upgrade/upgrade_a_kubernetes_cluster/">
        c. Upgrade a Kubernetes cluster
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oig/troubleshooting/" title="Troubleshooting" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oig/troubleshooting/">
          <b>9. </b>Troubleshooting
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oig/security-hardening/" title="Security Hardening" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oig/security-hardening/">
          <b>10. </b>Security Hardening
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oud/" title="Oracle Unified Directory" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oud/">
          Oracle Unified Directory
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oud/prerequisites/" title="Prerequisites" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oud/prerequisites/">
          <b>1. </b>Prerequisites
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oud/prepare-your-environment/" title="Prepare Your Environment" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oud/prepare-your-environment/">
          <b>2. </b>Prepare Your Environment
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oud/create-oud-instances/" title="Create Oracle Unified Directory Instances Using Samples" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oud/create-oud-instances/">
          <b>3. </b>Create Oracle Unified Directory Instances Using Samples
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oud/create-oud-instances-helm/" title="Create Oracle Unified Directory Instances Using Helm" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oud/create-oud-instances-helm/">
          <b>4. </b>Create Oracle Unified Directory Instances Using Helm
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oud/create-oud-instances-helm/oud-ds-rs/" title="Helm Chart: oud-ds-rs: For deployment of replicated Oracle Unified Directory (DS&#43;RS) instances" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oud/create-oud-instances-helm/oud-ds-rs/">
          Helm Chart: oud-ds-rs: For deployment of replicated Oracle Unified Directory (DS&#43;RS) instances
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oud/manage-oud-containers/" title="Manage Oracle Unified Directory Containers" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oud/manage-oud-containers/">
          <b>5. </b>Manage Oracle Unified Directory Containers
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oud/manage-oud-containers/logging-and-visualization/" title="a) Logging and Visualization for Helm Chart oud-ds-rs Deployment" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oud/manage-oud-containers/logging-and-visualization/">
        a) Logging and Visualization for Helm Chart oud-ds-rs Deployment
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oud/manage-oud-containers/monitoring-oud-instance/" title="b) Monitoring an Oracle Unified Directory Instance" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oud/manage-oud-containers/monitoring-oud-instance/">
        b) Monitoring an Oracle Unified Directory Instance
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oud/patch-and-upgrade/" title="Upgrade" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oud/patch-and-upgrade/">
          <b>6. </b>Upgrade
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oud/patch-and-upgrade/upgrade_a_kubernetes_cluster/" title="a) Upgrade a Kubernetes cluster" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oud/patch-and-upgrade/upgrade_a_kubernetes_cluster/">
        a) Upgrade a Kubernetes cluster
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oud/security-hardening/" title="Security Hardening" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oud/security-hardening/">
          <b>7. </b>Security Hardening
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oud/troubleshooting/" title="Troubleshooting" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oud/troubleshooting/">
          <b>8. </b>Troubleshooting
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oudsm/" title="Oracle Unified Directory Services Manager" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oudsm/">
          Oracle Unified Directory Services Manager
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oudsm/prerequisites/" title="Prerequisites" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oudsm/prerequisites/">
          <b>1. </b>Prerequisites
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oudsm/prepare-your-environment/" title="Prepare Your Environment" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oudsm/prepare-your-environment/">
          <b>2. </b>Prepare Your Environment
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oudsm/create-oudsm-instances/" title="Create Oracle Unified Directory Services Manager Instances Using Samples" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oudsm/create-oudsm-instances/">
          <b>3. </b>Create Oracle Unified Directory Services Manager Instances Using Samples
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oudsm/create-oudsm-instances-helm/" title="Create Oracle Unified Directory Services Manager Instances Using Helm" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oudsm/create-oudsm-instances-helm/">
          <b>4. </b>Create Oracle Unified Directory Services Manager Instances Using Helm
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oudsm/create-oudsm-instances-helm/oudsm/" title="Helm Chart: oudsm: For deployment of Oracle Unified Directory Services Manager instances on Kubernetes" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oudsm/create-oudsm-instances-helm/oudsm/">
          Helm Chart: oudsm: For deployment of Oracle Unified Directory Services Manager instances on Kubernetes
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oudsm/manage-oudsm-containers/" title="Manage Oracle Unified Directory Services Manager Containers" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oudsm/manage-oudsm-containers/">
          <b>5. </b>Manage Oracle Unified Directory Services Manager Containers
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oudsm/manage-oudsm-containers/logging-and-visualization/" title="a) Logging and Visualization for Helm Chart oudsm Deployment" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oudsm/manage-oudsm-containers/logging-and-visualization/">
        a) Logging and Visualization for Helm Chart oudsm Deployment
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oudsm/manage-oudsm-containers/monitoring-oudsm-instance/" title="b) Monitoring an Oracle Unified Directory Services Manager Instance" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oudsm/manage-oudsm-containers/monitoring-oudsm-instance/">
        b) Monitoring an Oracle Unified Directory Services Manager Instance
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oudsm/patch-and-upgrade/" title="Upgrade" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oudsm/patch-and-upgrade/">
          <b>6. </b>Upgrade
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/fmw-kubernetes/20.4.1/oudsm/patch-and-upgrade/upgrade_a_kubernetes_cluster/" title="b) Upgrade a Kubernetes cluster" class="dd-item ">
        <a href="/fmw-kubernetes/20.4.1/oudsm/patch-and-upgrade/upgrade_a_kubernetes_cluster/">
        b) Upgrade a Kubernetes cluster
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oudsm/security-hardening/" title="Security Hardening" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oudsm/security-hardening/">
          <b>7. </b>Security Hardening
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fmw-kubernetes/20.4.1/oudsm/troubleshooting/" title="Troubleshooting" class="dd-item 
        
        
        
        ">
      <a href="/fmw-kubernetes/20.4.1/oudsm/troubleshooting/">
          <b>8. </b>Troubleshooting
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp;</p>
<p><a href="https://github.com/oracle/fmw-kubernetes"><i class="fab fa-github"></i> GitHub repo</a></p>


    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/fmw-kubernetes/20.4.1/'>Oracle Fusion Middleware on Kubernetes</a> > <a href='/fmw-kubernetes/20.4.1/oig/'>Oracle Identity Governance</a> > Create OIG domains
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#introduction">Introduction</a></li>
        <li><a href="#prerequisites">Prerequisites</a></li>
        <li><a href="#prepare-the-create-domain-script">Prepare the Create Domain Script</a></li>
        <li><a href="#run-the-create-domain-script">Run the Create Domain Script</a></li>
        <li><a href="#verify-the-results">Verify the Results</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Create OIG domains
            </h1>
          

        




	<ol>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#prepare-the-create-domain-script">Prepare the Create Domain Script</a>
<ol>
<li><a href="#edit-configuration-parameters">Edit Configuration Parameters</a></li>
</ol>
</li>
<li><a href="#run-the-create-domain-script">Run the Create Domain Script</a>
<ol>
<li><a href="#generate-the-create-domain-script">Generate the Create Domain Script</a></li>
<li><a href="#create-docker-registry-secret">Create Docker Registry Secret</a></li>
<li><a href="#run-the-create-domain-scripts">Run the Create Domain Scripts</a></li>
</ol>
</li>
<li><a href="#verify-the-results">Verify the Results</a>
<ol>
<li><a href="#verify-the-domain-pods-and-services">Verify the Domain, Pods and Services</a></li>
<li><a href="#verify-the-domain">Verify the Domain</a></li>
<li><a href="#verify-the-pods">Verify the Pods</a></li>
</ol>
</li>
</ol>
<h3 id="introduction">Introduction</h3>
<p>The OIG deployment scripts demonstrate the creation of an OIG domain home on an existing Kubernetes persistent volume (PV) and persistent volume claim (PVC). The scripts also generate the domain YAML file, which can then be used to start the Kubernetes artifacts of the corresponding domain.</p>
<h3 id="prerequisites">Prerequisites</h3>
<p>Before you begin, perform the following steps:</p>
<ol>
<li>Review the <a href="https://oracle.github.io/weblogic-kubernetes-operator/userguide/managing-domains/domain-resource">Domain resource</a> documentation.</li>
<li>Ensure that you have executed all the preliminary steps documented in <a href="/fmw-kubernetes/20.4.1/oig/prepare-your-environment/">Prepare your environment</a>.</li>
<li>Ensure that the database is up and running.</li>
</ol>
<h3 id="prepare-the-create-domain-script">Prepare the Create Domain Script</h3>
<p>The sample scripts for Oracle Identity Governance domain deployment are available at <code>&lt;weblogic-kubernetes-operator-project&gt;/kubernetes/samples/scripts/create-oim-domain</code>.</p>
<ol>
<li>
<p>Make a copy of the <code>create-domain-inputs.yaml</code> file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cd &lt;work directory&gt;/weblogic-kubernetes-operator/kubernetes/samples/scripts/create-oim-domain/domain-home-on-pv
$ cp create-domain-inputs.yaml create-domain-inputs.yaml.orig   
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cd /scratch/OIGDockerK8S/weblogic-kubernetes-operator/kubernetes/samples/scripts/create-oim-domain/domain-home-on-pv
$ cp create-domain-inputs.yaml create-domain-inputs.yaml.orig
</code></pre></div><p>You must edit <code>create-domain-inputs.yaml</code> (or a copy of it) to provide the details for your domain. Please refer to the configuration parameters below to understand the information that you must
provide in this file.</p>
</li>
</ol>
<h4 id="edit-configuration-parameters">Edit Configuration Parameters</h4>
<ol>
<li>
<p>Edit the <code>create-domain-inputs.yaml</code> and modify the following parameters. Save the file when complete:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">domainUID: &lt;domain_uid&gt;
domainHome: /u01/oracle/user_projects/domains/&lt;domain_uid&gt;
image: &lt;image_name&gt;
namespace: &lt;domain_namespace&gt;
weblogicCredentialsSecretName: &lt;kubernetes_domain_secret&gt;
persistentVolumeClaimName: &lt;pvc_name&gt;
logHome: /u01/oracle/user_projects/domains/logs/&lt;domain_id&gt;
rcuSchemaPrefix: &lt;rcu_prefix&gt;
rcuDatabaseURL: &lt;rcu_db_host&gt;:&lt;rcu_db_port&gt;/&lt;rcu_db_service_name&gt;
rcuCredentialsSecret: &lt;kubernetes_rcu_secret&gt;   
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">domainUID: oimcluster
domainHome: /u01/oracle/user_projects/domains/oimcluster
image: oracle/oig:12.2.1.4.0
namespace: oimcluster
weblogicCredentialsSecretName: oimcluster-domain-credentials
persistentVolumeClaimName: oimcluster-oim-pvc
logHome: /u01/oracle/user_projects/domains/logs/oimcluster
rcuSchemaPrefix: OIGK8S
rcuDatabaseURL: mydatabasehost.example.com:1521/orcl.example.com
rcuCredentialsSecret: oimcluster-rcu-credentials
</code></pre></div></li>
</ol>
<p>A full list of parameters in the <code>create-domain-inputs.yaml</code> file are shown below:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Definition</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>adminPort</code></td>
<td>Port number for the Administration Server inside the Kubernetes cluster.</td>
<td><code>7001</code></td>
</tr>
<tr>
<td><code>adminNodePort</code></td>
<td>Port number of the Administration Server outside the Kubernetes cluster.</td>
<td><code>30701</code></td>
</tr>
<tr>
<td><code>adminServerName</code></td>
<td>Name of the Administration Server.</td>
<td><code>AdminServer</code></td>
</tr>
<tr>
<td><code>clusterName</code></td>
<td>Name of the WebLogic cluster instance to generate for the domain. By default the cluster name is <code>oimcluster</code> for the OIG domain.</td>
<td><code>oimcluster</code></td>
</tr>
<tr>
<td><code>configuredManagedServerCount</code></td>
<td>Number of Managed Server instances to generate for the domain.</td>
<td><code>5</code></td>
</tr>
<tr>
<td><code>createDomainFilesDir</code></td>
<td>Directory on the host machine to locate all the files to create a WebLogic domain, including the script that is specified in the <code>createDomainScriptName</code> property. By default, this directory is set to the relative path <code>wlst</code>, and the create script will use the built-in WLST offline scripts in the <code>wlst</code> directory to create the WebLogic domain. It can also be set to the relative path <code>wdt</code>, and then the built-in WDT scripts will be used instead. An absolute path is also supported to point to an arbitrary directory in the file system. The built-in scripts can be replaced by the user-provided scripts or model files as long as those files are in the specified directory. Files in this directory are put into a Kubernetes config map, which in turn is mounted to the <code>createDomainScriptsMountPath</code>, so that the Kubernetes pod can use the scripts and supporting files to create a domain home.</td>
<td><code>wlst</code></td>
</tr>
<tr>
<td><code>createDomainScriptsMountPath</code></td>
<td>Mount path where the create domain scripts are located inside a pod. The <code>create-domain.sh</code> script creates a Kubernetes job to run the script (specified in the <code>createDomainScriptName</code> property) in a Kubernetes pod to create a domain home. Files in the <code>createDomainFilesDir</code> directory are mounted to this location in the pod, so that the Kubernetes pod can use the scripts and supporting files to create a domain home.</td>
<td><code>/u01/weblogic</code></td>
</tr>
<tr>
<td><code>createDomainScriptName</code></td>
<td>Script that the create domain script uses to create a WebLogic domain. The <code>create-domain.sh</code> script creates a Kubernetes job to run this script to create a domain home. The script is located in the in-pod directory that is specified in the <code>createDomainScriptsMountPath</code> property. If you need to provide your own scripts to create the domain home, instead of using the built-it scripts, you must use this property to set the name of the script that you want the create domain job to run.</td>
<td><code>create-domain-job.sh</code></td>
</tr>
<tr>
<td><code>domainHome</code></td>
<td>Home directory of the OIG domain. If not specified, the value is derived from the <code>domainUID</code> as <code>/shared/domains/&lt;domainUID&gt;</code>.</td>
<td><code>/u01/oracle/user_projects/domains/oimcluster</code></td>
</tr>
<tr>
<td><code>domainPVMountPath</code></td>
<td>Mount path of the domain persistent volume.</td>
<td><code>/u01/oracle/user_projects</code></td>
</tr>
<tr>
<td><code>domainUID</code></td>
<td>Unique ID that will be used to identify this particular domain. Used as the name of the generated WebLogic domain as well as the name of the Kubernetes domain resource. This ID must be unique across all domains in a Kubernetes cluster. This ID cannot contain any character that is not valid in a Kubernetes service name.</td>
<td><code>oimcluster</code></td>
</tr>
<tr>
<td><code>exposeAdminNodePort</code></td>
<td>Boolean indicating if the Administration Server is exposed outside of the Kubernetes cluster.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>exposeAdminT3Channel</code></td>
<td>Boolean indicating if the T3 administrative channel is exposed outside the Kubernetes cluster.</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>image</code></td>
<td>OIG Docker image. The operator requires OIG 12.2.1.4. Refer to <a href="/fmw-kubernetes/20.4.1/oig/prepare-your-environment/#install-the-oig-docker-image">OIG domains</a> for details on how to obtain or create the image.</td>
<td><code>oracle/oig:12.2.1.4.0</code></td>
</tr>
<tr>
<td><code>imagePullPolicy</code></td>
<td>WebLogic Docker image pull policy. Legal values are <code>IfNotPresent</code>, <code>Always</code>, or <code>Never</code></td>
<td><code>IfNotPresent</code></td>
</tr>
<tr>
<td><code>imagePullSecretName</code></td>
<td>Name of the Kubernetes secret to access the Docker Store to pull the WebLogic Server Docker image. The presence of the secret will be validated when this parameter is specified.</td>
<td></td>
</tr>
<tr>
<td><code>includeServerOutInPodLog</code></td>
<td>Boolean indicating whether to include the server .out to the pod&rsquo;s stdout.</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>initialManagedServerReplicas</code></td>
<td>Number of Managed Servers to initially start for the domain.</td>
<td><code>2</code></td>
</tr>
<tr>
<td><code>javaOptions</code></td>
<td>Java options for starting the Administration Server and Managed Servers. A Java option can have references to one or more of the following pre-defined variables to obtain WebLogic domain information: <code>$(DOMAIN_NAME)</code>, <code>$(DOMAIN_HOME)</code>, <code>$(ADMIN_NAME)</code>, <code>$(ADMIN_PORT)</code>, and <code>$(SERVER_NAME)</code>.</td>
<td><code>-Dweblogic.StdoutDebugEnabled=false</code></td>
</tr>
<tr>
<td><code>logHome</code></td>
<td>The in-pod location for the domain log, server logs, server out, and Node Manager log files. If not specified, the value is derived from the <code>domainUID</code> as <code>/shared/logs/&lt;domainUID&gt;</code>.</td>
<td><code>/u01/oracle/user_projects/domains/logs/oimcluster</code></td>
</tr>
<tr>
<td><code>managedServerNameBase</code></td>
<td>Base string used to generate Managed Server names.</td>
<td><code>oim_server</code></td>
</tr>
<tr>
<td><code>managedServerPort</code></td>
<td>Port number for each Managed Server.</td>
<td><code>8001</code></td>
</tr>
<tr>
<td><code>namespace</code></td>
<td>Kubernetes namespace in which to create the domain.</td>
<td><code>oimcluster</code></td>
</tr>
<tr>
<td><code>persistentVolumeClaimName</code></td>
<td>Name of the persistent volume claim created to host the domain home. If not specified, the value is derived from the <code>domainUID</code> as <code>&lt;domainUID&gt;-weblogic-sample-pvc</code>.</td>
<td><code>oimcluster-domain-pvc</code></td>
</tr>
<tr>
<td><code>productionModeEnabled</code></td>
<td>Boolean indicating if production mode is enabled for the domain.</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>serverStartPolicy</code></td>
<td>Determines which WebLogic Server instances will be started. Legal values are <code>NEVER</code>, <code>IF_NEEDED</code>, <code>ADMIN_ONLY</code>.</td>
<td><code>IF_NEEDED</code></td>
</tr>
<tr>
<td><code>t3ChannelPort</code></td>
<td>Port for the T3 channel of the NetworkAccessPoint.</td>
<td><code>30012</code></td>
</tr>
<tr>
<td><code>t3PublicAddress</code></td>
<td>Public address for the T3 channel.  This should be set to the public address of the Kubernetes cluster.  This would typically be a load balancer address. <!-- raw HTML omitted -->For development environments only: In a single server (all-in-one) Kubernetes deployment, this may be set to the address of the master, or at the very least, it must be set to the address of one of the worker nodes.</td>
<td>If not provided, the script will attempt to set it to the IP address of the Kubernetes cluster</td>
</tr>
<tr>
<td><code>weblogicCredentialsSecretName</code></td>
<td>Name of the Kubernetes secret for the Administration Server&rsquo;s user name and password. If not specified, then the value is derived from the <code>domainUID</code> as <code>&lt;domainUID&gt;-weblogic-credentials</code>.</td>
<td><code>oimcluster-domain-credentials</code></td>
</tr>
<tr>
<td><code>weblogicImagePullSecretName</code></td>
<td>Name of the Kubernetes secret for the Docker Store, used to pull the WebLogic Server image.</td>
<td></td>
</tr>
<tr>
<td><code>serverPodCpuRequest</code>, <code>serverPodMemoryRequest</code>, <code>serverPodCpuCLimit</code>, <code>serverPodMemoryLimit</code></td>
<td>The maximum amount of compute resources allowed, and minimum amount of compute resources required, for each server pod. Please refer to the Kubernetes documentation on <code>Managing Compute Resources for Containers</code> for details.</td>
<td>Resource requests and resource limits are not specified.</td>
</tr>
<tr>
<td><code>rcuSchemaPrefix</code></td>
<td>The schema prefix to use in the database, for example <code>OIGK8S</code>.  You may wish to make this the same as the domainUID in order to simplify matching domains to their RCU schemas.</td>
<td><code>OIGK8S</code></td>
</tr>
<tr>
<td><code>rcuDatabaseURL</code></td>
<td>The database URL.</td>
<td><code>oracle-db.default.svc.cluster.local:1521/devpdb.k8s</code></td>
</tr>
<tr>
<td><code>rcuCredentialsSecret</code></td>
<td>The Kubernetes secret containing the database credentials.</td>
<td><code>oimcluster-rcu-credentials</code></td>
</tr>
</tbody>
</table>
<p>Note that the names of the Kubernetes resources in the generated YAML files may be formed with the
value of some of the properties specified in the <code>create-inputs.yaml</code> file. Those properties include
the <code>adminServerName</code>, <code>clusterName</code> and <code>managedServerNameBase</code>. If those values contain any
characters that are invalid in a Kubernetes service name, those characters are converted to
valid values in the generated YAML files. For example, an uppercase letter is converted to a
lowercase letter and an underscore <code>(&quot;_&quot;)</code> is converted to a hyphen <code>(&quot;-&quot;)</code>.</p>
<p>The sample demonstrates how to create an OIG domain home and associated Kubernetes resources for a domain
that has one cluster only. In addition, the sample provides the capability for users to supply their own scripts
to create the domain home for other use cases. The generated domain YAML file could also be modified to cover more use cases.</p>
<h3 id="run-the-create-domain-script">Run the Create Domain Script</h3>
<h4 id="generate-the-create-domain-script">Generate the Create Domain Script</h4>
<ol>
<li>
<p>Run the create domain script, specifying your inputs file and an output directory to store the
generated artifacts:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cd &lt;work directory&gt;/weblogic-kubernetes-operator/kubernetes/samples/scripts/create-oim-domain/domain-home-on-pv
$ mkdir output_oimcluster
$ ./create-domain.sh -i create-domain-inputs.yaml -o /&lt;path to output-directory&gt;
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cd /scratch/OIGDockerK8S/weblogic-kubernetes-operator/kubernetes/samples/scripts/create-oim-domain/domain-home-on-pv
$ mkdir output_oimcluster
$ ./create-domain.sh -i create-domain-inputs.yaml -o output_oimcluster
</code></pre></div><p>The output will look similar to the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ./create-domain.sh -i create-domain-inputs.yaml -o output_oimcluster
Input parameters being used
export version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;create-weblogic-sample-domain-inputs-v1&#34;</span>
export adminPort<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;7001&#34;</span>
export adminServerName<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;AdminServer&#34;</span>
export domainUID<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;oimcluster&#34;</span>
export domainHome<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/u01/oracle/user_projects/domains/oimcluster&#34;</span>
export serverStartPolicy<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;IF_NEEDED&#34;</span>
export clusterName<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;oim_cluster&#34;</span>
export configuredManagedServerCount<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;5&#34;</span>
export initialManagedServerReplicas<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1&#34;</span>
export managedServerNameBase<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;oim_server&#34;</span>
export managedServerPort<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;14000&#34;</span>
export image<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;oracle/oig:12.2.1.4.0&#34;</span>
export imagePullPolicy<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;IfNotPresent&#34;</span>
export imagePullSecretName<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;oig-docker&#34;</span>
export productionModeEnabled<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>
export weblogicCredentialsSecretName<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;oimcluster-domain-credentials&#34;</span>
export includeServerOutInPodLog<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>
export logHome<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/u01/oracle/user_projects/domains/logs/oimcluster&#34;</span>
export t3ChannelPort<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;30012&#34;</span>
export exposeAdminT3Channel<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;false&#34;</span>
export adminNodePort<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;30701&#34;</span>
export exposeAdminNodePort<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;false&#34;</span>
export namespace<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;oimcluster&#34;</span>
javaOptions<span style="color:#f92672">=</span>-Dweblogic.StdoutDebugEnabled<span style="color:#f92672">=</span>false
export persistentVolumeClaimName<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;oimcluster-oim-pvc&#34;</span>
export domainPVMountPath<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/u01/oracle/user_projects/domains&#34;</span>
export createDomainScriptsMountPath<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/u01/weblogic&#34;</span>
export createDomainScriptName<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;create-domain-job.sh&#34;</span>
export createDomainFilesDir<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wlst&#34;</span>
export rcuSchemaPrefix<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;OIGK8S&#34;</span>
export rcuDatabaseURL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mydatabasehost.example.com:1521/orcl.example.com&#34;</span>
export rcuCredentialsSecret<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;oimcluster-rcu-credentials&#34;</span>
export frontEndHost<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;100.102.48.49&#34;</span>
export frontEndPort<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;80&#34;</span>

Generating output_oimcluster/weblogic-domains/oimcluster/create-domain-job.yaml
Generating output_oimcluster/weblogic-domains/oimcluster/delete-domain-job.yaml
Generating output_oimcluster/weblogic-domains/oimcluster/domain.yaml
Checking to see <span style="color:#66d9ef">if</span> the secret oimcluster-domain-credentials exists in namespace oimcluster
configmap/oimcluster-create-fmw-infra-sample-domain-job-cm created
Checking the configmap oimcluster-create-fmw-infra-sample-domain-job-cm was created
configmap/oimcluster-create-fmw-infra-sample-domain-job-cm labeled
Checking <span style="color:#66d9ef">if</span> object type job with name oimcluster-create-fmw-infra-sample-domain-job exists
No resources found in oimcluster namespace.
Creating the domain by creating the job output_oimcluster/weblogic-domains/oimcluster/create-domain-job.yaml
job.batch/oimcluster-create-fmw-infra-sample-domain-job created
Waiting <span style="color:#66d9ef">for</span> the job to complete...
status on iteration <span style="color:#ae81ff">1</span> of <span style="color:#ae81ff">40</span>
pod oimcluster-create-fmw-infra-sample-domain-job-dktkk status is Running
status on iteration <span style="color:#ae81ff">2</span> of <span style="color:#ae81ff">40</span>
pod oimcluster-create-fmw-infra-sample-domain-job-dktkk status is Running
status on iteration <span style="color:#ae81ff">3</span> of <span style="color:#ae81ff">40</span>
pod oimcluster-create-fmw-infra-sample-domain-job-dktkk status is Running
status on iteration <span style="color:#ae81ff">4</span> of <span style="color:#ae81ff">40</span>
pod oimcluster-create-fmw-infra-sample-domain-job-dktkk status is Running
status on iteration <span style="color:#ae81ff">5</span> of <span style="color:#ae81ff">40</span>
pod oimcluster-create-fmw-infra-sample-domain-job-dktkk status is Running
status on iteration <span style="color:#ae81ff">6</span> of <span style="color:#ae81ff">40</span>
pod oimcluster-create-fmw-infra-sample-domain-job-dktkk status is Running
status on iteration <span style="color:#ae81ff">7</span> of <span style="color:#ae81ff">40</span>
pod oimcluster-create-fmw-infra-sample-domain-job-dktkk status is Running
status on iteration <span style="color:#ae81ff">8</span> of <span style="color:#ae81ff">40</span>
pod oimcluster-create-fmw-infra-sample-domain-job-dktkk status is Running
status on iteration <span style="color:#ae81ff">9</span> of <span style="color:#ae81ff">40</span>
pod oimcluster-create-fmw-infra-sample-domain-job-dktkk status is Running
status on iteration <span style="color:#ae81ff">10</span> of <span style="color:#ae81ff">40</span>
pod oimcluster-create-fmw-infra-sample-domain-job-dktkk status is Running
status on iteration <span style="color:#ae81ff">11</span> of <span style="color:#ae81ff">40</span>
pod oimcluster-create-fmw-infra-sample-domain-job-dktkk status is Completed

Domain oimcluster was created and will be started by the WebLogic Kubernetes Operator

The following files were generated:
  output_oimcluster/weblogic-domains/oimcluster/create-domain-inputs.yaml
  output_oimcluster/weblogic-domains/oimcluster/create-domain-job.yaml
  output_oimcluster/weblogic-domains/oimcluster/domain.yaml
sed

Completed
$
</code></pre></div><p><strong>Note</strong>: If the create domain script creation fails, refer to the <a href="../troubleshooting">Troubleshooting</a> section.</p>
</li>
</ol>
<h4 id="create-docker-registry-secret">Create Docker Registry Secret</h4>
<ol>
<li>
<p>Create a Docker Registry Secret with name <code>oig-docker</code>. The operator validates the presence of this secret.  The OIG image has been manually loaded in <a href="/fmw-kubernetes/20.4.1/oig/prepare-your-environment/#install-the-oig-docker-image">Install the OIG Docker Image</a> so you can run this command as is. The presence of the secret is sufficient for creating the Kubernetes resource in the next step.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl create secret docker-registry oig-docker -n &lt;domain_namespace&gt; --docker-username<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&lt;user_name&gt;&#39;</span> --docker-password<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&lt;password&gt;&#39;</span> --docker-server<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&lt;docker_registry_url&gt;&#39;</span> --docker-email<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&lt;email_address&gt;&#39;</span>
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl create secret docker-registry oig-docker -n oimcluster --docker-username<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&lt;user_name&gt;&#39;</span> --docker-password<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&lt;password&gt;&#39;</span> --docker-server<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&lt;docker_registry_url&gt;&#39;</span> --docker-email<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&lt;email_address&gt;&#39;</span>
</code></pre></div><p><strong>Note</strong>: The above command should be run as described. Do not change anything other than the <code>&lt;domain_namespace&gt;</code>.</p>
<p>The output will look similar to the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">secret/oig-docker created
</code></pre></div></li>
</ol>
<h4 id="run-the-create-domain-scripts">Run the Create Domain Scripts</h4>
<ol>
<li>
<p>Create the Kubernetes resource using the following command:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cd &lt;work directory&gt;/weblogic-kubernetes-operator/kubernetes/samples/scripts/create-oim-domain/domain-home-on-pv/output_oimcluster/weblogic-domains/oimcluster
$ kubectl apply -f domain.yaml
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cd /scratch/OIGDockerK8S/weblogic-kubernetes-operator/kubernetes/samples/scripts/create-oim-domain/domain-home-on-pv/output_oimcluster/weblogic-domains/oimcluster
$ kubectl apply -f domain.yaml
</code></pre></div><p>The output will look similar to the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">domain.weblogic.oracle/oimcluster created
</code></pre></div></li>
<li>
<p>Run the following command to view the status of the OIG pods:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -n oimcluster
</code></pre></div><p>The output will initially look similar to the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">NAME                                                  READY   STATUS      RESTARTS   AGE
helper                                                1/1     Running     <span style="color:#ae81ff">0</span>          3h30m
oimcluster-create-fmw-infra-sample-domain-job-dktkk   0/1     Completed   <span style="color:#ae81ff">0</span>          27m
oimcluster-introspect-domain-job-p4brt                1/1     Running     <span style="color:#ae81ff">0</span>          6s
</code></pre></div><p>The <code>introspect-domain-job</code> pod will be displayed first. Run the command again after several minutes and check to see that the AdminServer and SOA Server are both started. When started they should have <code>STATUS</code> = <code>Running</code> and <code>READY</code> = <code>1/1</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">NAME                                                  READY   STATUS      RESTARTS   AGE
helper                                                1/1     Running     <span style="color:#ae81ff">0</span>          3h38m
oimcluster-adminserver                                1/1     Running     <span style="color:#ae81ff">0</span>          7m30s
oimcluster-create-fmw-infra-sample-domain-job-dktkk   0/1     Completed   <span style="color:#ae81ff">0</span>          35m
oimcluster-soa-server1                                1/1     Running     <span style="color:#ae81ff">0</span>          4m
</code></pre></div><p><strong>Note</strong>: It will take several minutes before all the pods listed above show. When a pod has a <code>STATUS</code> of <code>0/1</code> the pod is started but the OIG server associated with it is currently starting. While the pods are starting you can check the startup status in the pod logs, by running the following command:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl logs oimcluster-adminserver -n oimcluster
$ kubectl logs oimcluster-soa-server1 -n oimcluster
</code></pre></div></li>
<li>
<p>Once both pods are running, start the OIM Server using the following command:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cd &lt;work directory&gt;/weblogic-kubernetes-operator/kubernetes/samples/scripts/create-oim-domain/domain-home-on-pv/output_oimcluster/weblogic-domains/oimcluster
$ kubectl apply -f domain_oim_soa.yaml
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cd /scratch/OIGDockerK8S/weblogic-kubernetes-operator/kubernetes/samples/scripts/create-oim-domain/domain-home-on-pv/output_oimcluster/weblogic-domains/oimcluster
$ kubectl apply -f domain_oim_soa.yaml
</code></pre></div><p>The output will look similar to the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">domain.weblogic.oracle/oimcluster configured
</code></pre></div></li>
</ol>
<h3 id="verify-the-results">Verify the Results</h3>
<h4 id="verify-the-domain-pods-and-services">Verify the Domain, Pods and Services</h4>
<ol>
<li>
<p>Verify the domain, servers pods and services are created and in the <code>READY</code> state with a <code>STATUS</code> of <code>1/1</code>, by running the following command:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get all,domains -n oimcluster
</code></pre></div><p>The output will look similar to the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">NAME                                                      READY   STATUS      RESTARTS   AGE
pod/helper                                                1/1     Running     <span style="color:#ae81ff">0</span>          3h40m
pod/oimcluster-adminserver                                1/1     Running     <span style="color:#ae81ff">0</span>          16m
pod/oimcluster-create-fmw-infra-sample-domain-job-dktkk   0/1     Completed   <span style="color:#ae81ff">0</span>          36m
pod/oimcluster-oim-server1                                1/1     Running     <span style="color:#ae81ff">0</span>          5m57s
pod/oimcluster-soa-server1                                1/1     Running     <span style="color:#ae81ff">0</span>          13m

NAME                                     TYPE        CLUSTER-IP       EXTERNAL-IP   PORT<span style="color:#f92672">(</span>S<span style="color:#f92672">)</span>     AGE
service/oimcluster-adminserver           ClusterIP   None             &lt;none&gt;        7001/TCP    16m
service/oimcluster-cluster-oim-cluster   ClusterIP   10.97.121.159    &lt;none&gt;        14000/TCP   13m
service/oimcluster-cluster-soa-cluster   ClusterIP   10.111.231.242   &lt;none&gt;        8001/TCP    13m
service/oimcluster-oim-server1           ClusterIP   None             &lt;none&gt;        14000/TCP   5m57s
service/oimcluster-oim-server2           ClusterIP   10.108.139.30    &lt;none&gt;        14000/TCP   5m57s
service/oimcluster-oim-server3           ClusterIP   10.97.170.104    &lt;none&gt;        14000/TCP   5m57s
service/oimcluster-oim-server4           ClusterIP   10.99.82.214     &lt;none&gt;        14000/TCP   5m57s
service/oimcluster-oim-server5           ClusterIP   10.98.75.228     &lt;none&gt;        14000/TCP   5m57s
service/oimcluster-soa-server1           ClusterIP   None             &lt;none&gt;        8001/TCP    13m
service/oimcluster-soa-server2           ClusterIP   10.107.232.220   &lt;none&gt;        8001/TCP    13m
service/oimcluster-soa-server3           ClusterIP   10.108.203.6     &lt;none&gt;        8001/TCP    13m
service/oimcluster-soa-server4           ClusterIP   10.96.178.0      &lt;none&gt;        8001/TCP    13m
service/oimcluster-soa-server5           ClusterIP   10.107.83.62     &lt;none&gt;        8001/TCP    13m

NAME                                                      COMPLETIONS   DURATION   AGE
job.batch/oimcluster-create-fmw-infra-sample-domain-job   1/1           5m30s      36m

NAME                                AGE
domain.weblogic.oracle/oimcluster   17m
</code></pre></div><p><strong>Note</strong>: It will take several minutes before all the services listed above show. While the <code>oimcluster-oim-server1</code> pod has a <code>STATUS</code> of <code>0/1</code> the pod is started but the OIG server associated with it is currently starting. While the pod is starting you can check the startup status in the pod logs, by running the following command:</p>
<pre><code>$ kubectl logs oimcluster-soa-server1 -n oimcluster
</code></pre></li>
</ol>
<p>The default domain created by the script has the following characteristics:</p>
<ul>
<li>An Administration Server named <code>AdminServer</code> listening on port <code>7001</code>.</li>
<li>A configured OIG cluster named <code>oig_cluster</code> of size 5.</li>
<li>A configured SOA cluster named <code>soa_cluster</code> of size 5.</li>
<li>One started OIG managed Server, named <code>oim_server1</code>, listening on port <code>14000</code>.</li>
<li>One started SOA managed Server, named <code>soa_server1</code>, listening on port <code>8001</code>.</li>
<li>Log files that are located in <code>&lt;persistent_volume&gt;/logs/&lt;domainUID&gt;</code></li>
</ul>
<h4 id="verify-the-domain">Verify the Domain</h4>
<p>To confirm that the domain was created, use this command:</p>
<pre><code>$ kubectl describe domain &lt;domain_uid&gt; -n &lt;namespace&gt;
</code></pre><p>For example:</p>
<pre><code>$ kubectl describe domain oimcluster -n oimcluster
</code></pre><p>Here is an example of the output of this command:</p>
<pre><code>Name:         oimcluster
Namespace:    oimcluster
Labels:       weblogic.domainUID=oimcluster
Annotations:  API Version:  weblogic.oracle/v8
Kind:         Domain
Metadata:
  Creation Timestamp:  2020-09-29T14:08:09Z
  Generation:          2
  Managed Fields:
    API Version:  weblogic.oracle/v8
    Fields Type:  FieldsV1
    fieldsV1:
      f:metadata:
        f:annotations:
          .:
          f:kubectl.kubernetes.io/last-applied-configuration:
        f:labels:
          .:
          f:weblogic.domainUID:
    Manager:      kubectl
    Operation:    Update
    Time:         2020-09-29T14:19:58Z
    API Version:  weblogic.oracle/v8
    Fields Type:  FieldsV1
    fieldsV1:
      f:status:
        .:
        f:clusters:
        f:conditions:
        f:servers:
        f:startTime:
    Manager:         OpenAPI-Generator
    Operation:       Update
    Time:            2020-09-29T14:27:30Z
  Resource Version:  1278400
  Self Link:         /apis/weblogic.oracle/v8/namespaces/oimcluster/domains/oimcluster
  UID:               94604c47-6995-43c5-8848-5c5975ba5ace
Spec:
  Admin Server:
    Server Pod:
      Env:
        Name:            USER_MEM_ARGS
        Value:           -Djava.security.egd=file:/dev/./urandom -Xms512m -Xmx1024m
    Server Start State:  RUNNING
  Clusters:
    Cluster Name:  soa_cluster
    Replicas:      1
    Server Pod:
      Affinity:
        Pod Anti Affinity:
          Preferred During Scheduling Ignored During Execution:
            Pod Affinity Term:
              Label Selector:
                Match Expressions:
                  Key:       weblogic.clusterName
                  Operator:  In
                  Values:
                    $(CLUSTER_NAME)
              Topology Key:  kubernetes.io/hostname
            Weight:          100
    Server Service:
      Precreate Service:  true
    Server Start State:   RUNNING
    Cluster Name:         oim_cluster
    Replicas:             1
    Server Pod:
      Affinity:
        Pod Anti Affinity:
          Preferred During Scheduling Ignored During Execution:
            Pod Affinity Term:
              Label Selector:
                Match Expressions:
                  Key:       weblogic.clusterName
                  Operator:  In
                  Values:
                    $(CLUSTER_NAME)
              Topology Key:  kubernetes.io/hostname
            Weight:          100
    Server Service:
      Precreate Service:        true
    Server Start State:         RUNNING
  Data Home:
  Domain Home:                  /u01/oracle/user_projects/domains/oimcluster
  Domain Home Source Type:      PersistentVolume
  Http Access Log In Log Home:  true
  Image:                        oracle/oig:12.2.1.4.0
  Image Pull Policy:            IfNotPresent
  Image Pull Secrets:
    Name:                         oig-docker
  Include Server Out In Pod Log:  true
  Log Home:                       /u01/oracle/user_projects/domains/logs/oimcluster
  Log Home Enabled:               true
  Server Pod:
    Env:
      Name:   JAVA_OPTIONS
      Value:  -Dweblogic.StdoutDebugEnabled=false
      Name:   USER_MEM_ARGS
      Value:  -Djava.security.egd=file:/dev/./urandom -Xms256m -Xmx1024m
    Volume Mounts:
      Mount Path:  /u01/oracle/user_projects/domains
      Name:        weblogic-domain-storage-volume
    Volumes:
      Name:  weblogic-domain-storage-volume
      Persistent Volume Claim:
        Claim Name:     oimcluster-oim-pvc
  Server Start Policy:  IF_NEEDED
  Web Logic Credentials Secret:
    Name:  oimcluster-domain-credentials
Status:
  Clusters:
    Cluster Name:      oim_cluster
    Maximum Replicas:  5
    Minimum Replicas:  0
    Ready Replicas:    1
    Replicas:          1
    Replicas Goal:     1
    Cluster Name:      soa_cluster
    Maximum Replicas:  5
    Minimum Replicas:  0
    Ready Replicas:    1
    Replicas:          1
    Replicas Goal:     1
  Conditions:
    Last Transition Time:  2020-09-29T14:25:51.338Z
    Reason:                ServersReady
    Status:                True
    Type:                  Available
  Servers:
    Desired State:  RUNNING
    Health:
      Activation Time:  2020-09-29T14:12:23.439Z
      Overall Health:   ok
      Subsystems:
        Subsystem Name:  ServerRuntime
        Symptoms:
    Node Name:      10.250.111.112
    Server Name:    AdminServer
    State:          RUNNING
    Cluster Name:   oim_cluster
    Desired State:  RUNNING
    Health:
      Activation Time:  2020-09-29T14:25:46.339Z
      Overall Health:   ok
      Subsystems:
        Subsystem Name:  ServerRuntime
        Symptoms:
    Node Name:      10.250.111.112
    Server Name:    oim_server1
    State:          RUNNING
    Cluster Name:   oim_cluster
    Desired State:  SHUTDOWN
    Server Name:    oim_server2
    Cluster Name:   oim_cluster
    Desired State:  SHUTDOWN
    Server Name:    oim_server3
    Cluster Name:   oim_cluster
    Desired State:  SHUTDOWN
    Server Name:    oim_server4
    Cluster Name:   oim_cluster
    Desired State:  SHUTDOWN
    Server Name:    oim_server5
    Cluster Name:   soa_cluster
    Desired State:  RUNNING
    Health:
      Activation Time:  2020-09-29T14:15:11.288Z
      Overall Health:   ok
      Subsystems:
        Subsystem Name:  ServerRuntime
        Symptoms:
    Node Name:      10.250.111.112
    Server Name:    soa_server1
    State:          RUNNING
    Cluster Name:   soa_cluster
    Desired State:  SHUTDOWN
    Server Name:    soa_server2
    Cluster Name:   soa_cluster
    Desired State:  SHUTDOWN
    Server Name:    soa_server3
    Cluster Name:   soa_cluster
    Desired State:  SHUTDOWN
    Server Name:    soa_server4
    Cluster Name:   soa_cluster
    Desired State:  SHUTDOWN
    Server Name:    soa_server5
  Start Time:       2020-09-29T14:08:10.085Z
Events:             &lt;none&gt;
</code></pre><p>In the <code>Status</code> section of the output, the available servers and clusters are listed.</p>
<h4 id="verify-the-pods">Verify the Pods</h4>
<p>Use the following command to see the pods running the servers and which nodes they are running on:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -n &lt;namespace&gt; -o wide
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -n oimcluster -o wide
</code></pre></div><p>The output will look similar to the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">NAME                                                  READY   STATUS      RESTARTS   AGE   IP            NODE           NOMINATED NODE   READINESS GATES
helper                                                1/1     Running     <span style="color:#ae81ff">0</span>          3h50m   10.244.1.39   10.250.111.112   &lt;none&gt;           &lt;none&gt;
oimcluster-adminserver                                1/1     Running     <span style="color:#ae81ff">0</span>          27m     10.244.1.42   10.250.111.112   &lt;none&gt;           &lt;none&gt;
oimcluster-create-fmw-infra-sample-domain-job-dktkk   0/1     Completed   <span style="color:#ae81ff">0</span>          47m     10.244.1.40   10.250.111.112   &lt;none&gt;           &lt;none&gt;
oimcluster-oim-server1                                1/1     Running     <span style="color:#ae81ff">0</span>          16m     10.244.1.44   10.250.111.112   &lt;none&gt;           &lt;none&gt;
oimcluster-soa-server1                                1/1     Running     <span style="color:#ae81ff">0</span>          24m     10.244.1.43   10.250.111.112   &lt;none&gt;           &lt;none&gt;
</code></pre></div><p>You are now ready to configure an Ingress to direct traffic for your OIG domain as per <a href="../configure-ingress">Configure an Ingress for an OIG domain</a>.</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/fmw-kubernetes/20.4.1/oig/prepare-your-environment/" title="Prepare your environment"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/fmw-kubernetes/20.4.1/oig/configure-ingress/" title="Configure an Ingress for an OIG domain" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/fmw-kubernetes/20.4.1/js/clipboard.min.js?1612502690"></script>
    <script src="/fmw-kubernetes/20.4.1/js/perfect-scrollbar.min.js?1612502690"></script>
    <script src="/fmw-kubernetes/20.4.1/js/perfect-scrollbar.jquery.min.js?1612502690"></script>
    <script src="/fmw-kubernetes/20.4.1/js/jquery.sticky.js?1612502690"></script>
    <script src="/fmw-kubernetes/20.4.1/js/featherlight.min.js?1612502690"></script>
    <script src="/fmw-kubernetes/20.4.1/js/highlight.pack.js?1612502690"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/fmw-kubernetes/20.4.1/js/modernizr.custom-3.6.0.js?1612502690"></script>
    <script src="/fmw-kubernetes/20.4.1/js/learn.js?1612502690"></script>
    <script src="/fmw-kubernetes/20.4.1/js/hugo-learn.js?1612502690"></script>

    <link href="/fmw-kubernetes/20.4.1/mermaid/mermaid.css?1612502690" rel="stylesheet" />
    <script src="/fmw-kubernetes/20.4.1/mermaid/mermaid.js?1612502690"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>
